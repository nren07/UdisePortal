import{C as cn,V as un,r as S,u as fn,f as hn,a as Pe,b as dn,c as pn,d as mn,j as u,i as vn,k as gn,l as bn,m as yn}from"./index-DwWrSNEF.js";/* empty css                      */import{l as wn}from"./logo-DVoxnjrJ.js";/* empty css                  */import"./bootstrap.bundle.min-CEcmj-vr.js";class xn{constructor(e){this.client=e}get outgoing(){return this.client.heartbeatOutgoing}set outgoing(e){this.client.heartbeatOutgoing=e}get incoming(){return this.client.heartbeatIncoming}set incoming(e){this.client.heartbeatIncoming=e}}class wt extends cn{constructor(e){super(),this.maxWebSocketFrameSize=16*1024,this._heartbeatInfo=new xn(this),this.reconnect_delay=0,this.webSocketFactory=e,this.debug=(...r)=>{console.log(...r)}}_parseConnect(...e){let r,n,i,s={};if(e.length<2)throw new Error("Connect requires at least 2 arguments");if(typeof e[1]=="function")[s,n,i,r]=e;else switch(e.length){case 6:[s.login,s.passcode,n,i,r,s.host]=e;break;default:[s.login,s.passcode,n,i,r]=e}return[s,n,i,r]}connect(...e){const r=this._parseConnect(...e);r[0]&&(this.connectHeaders=r[0]),r[1]&&(this.onConnect=r[1]),r[2]&&(this.onStompError=r[2]),r[3]&&(this.onWebSocketClose=r[3]),super.activate()}disconnect(e,r={}){e&&(this.onDisconnect=e),this.disconnectHeaders=r,super.deactivate()}send(e,r={},n=""){r=Object.assign({},r);const i=r["content-length"]===!1;i&&delete r["content-length"],this.publish({destination:e,headers:r,body:n,skipContentLengthHeader:i})}set reconnect_delay(e){this.reconnectDelay=e}get ws(){return this.webSocket}get version(){return this.connectedVersion}get onreceive(){return this.onUnhandledMessage}set onreceive(e){this.onUnhandledMessage=e}get onreceipt(){return this.onUnhandledReceipt}set onreceipt(e){this.onUnhandledReceipt=e}get heartbeat(){return this._heartbeatInfo}set heartbeat(e){this.heartbeatIncoming=e.incoming,this.heartbeatOutgoing=e.outgoing}}class se{static client(e,r){r==null&&(r=un.default.protocolVersions());const n=()=>{const i=se.WebSocketClass||WebSocket;return new i(e,r)};return new wt(n)}static over(e){let r;return typeof e=="function"?r=e:(console.warn("Stomp.over did not receive a factory, auto reconnect will not work. Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over"),r=()=>e),new wt(r)}}se.WebSocketClass=null;var zt={exports:{}},Ve={},Ue={};Ue.crypto&&Ue.crypto.getRandomValues?Ve.randomBytes=function(t){var e=new Uint8Array(t);return Ue.crypto.getRandomValues(e),e}:Ve.randomBytes=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=Math.floor(Math.random()*256);return e};var _n=Ve,xt="abcdefghijklmnopqrstuvwxyz012345",V={string:function(t){for(var e=xt.length,r=_n.randomBytes(t),n=[],i=0;i<t;i++)n.push(xt.substr(r[i]%e,1));return n.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length,r=new Array(e+1).join("0");return(r+this.number(t)).slice(-e)}};(function(t){var e={},r=V,n={},i=!1,s=e.chrome&&e.chrome.app&&e.chrome.app.runtime;t.exports={attachEvent:function(a,c){typeof e.addEventListener<"u"?e.addEventListener(a,c,!1):e.document&&e.attachEvent&&(e.document.attachEvent("on"+a,c),e.attachEvent("on"+a,c))},detachEvent:function(a,c){typeof e.addEventListener<"u"?e.removeEventListener(a,c,!1):e.document&&e.detachEvent&&(e.document.detachEvent("on"+a,c),e.detachEvent("on"+a,c))},unloadAdd:function(a){if(s)return null;var c=r.string(8);return n[c]=a,i&&setTimeout(this.triggerUnloadCallbacks,0),c},unloadDel:function(a){a in n&&delete n[a]},triggerUnloadCallbacks:function(){for(var a in n)n[a](),delete n[a]}};var o=function(){i||(i=!0,t.exports.triggerUnloadCallbacks())};s||t.exports.attachEvent("unload",o)})(zt);var U=zt.exports,En=function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},ot={},Sn=Object.prototype.hasOwnProperty,$n;function _t(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return null}}function Et(t){try{return encodeURIComponent(t)}catch{return null}}function jn(t){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},n;n=e.exec(t);){var i=_t(n[1]),s=_t(n[2]);i===null||s===null||i in r||(r[i]=s)}return r}function Nn(t,e){e=e||"";var r=[],n,i;typeof e!="string"&&(e="?");for(i in t)if(Sn.call(t,i)){if(n=t[i],!n&&(n===null||n===$n||isNaN(n))&&(n=""),i=Et(i),n=Et(n),i===null||n===null)continue;r.push(i+"="+n)}return r.length?e+r.join("&"):""}ot.stringify=Nn;ot.parse=jn;var St={},Qt=En,Ne=ot,On=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Zt=/[\n\r\t]/g,Tn=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Kt=/:\d+$/,In=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Cn=/^[a-zA-Z]:/;function at(t){return(t||"").toString().replace(On,"")}var ze=[["#","hash"],["?","query"],function(e,r){return T(r.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],$t={hash:1,query:1};function Yt(t){var e;typeof window<"u"?e=window:typeof St<"u"?e=St:typeof self<"u"?e=self:e={};var r=e.location||{};t=t||r;var n={},i=typeof t,s;if(t.protocol==="blob:")n=new C(unescape(t.pathname),{});else if(i==="string"){n=new C(t,{});for(s in $t)delete n[s]}else if(i==="object"){for(s in t)s in $t||(n[s]=t[s]);n.slashes===void 0&&(n.slashes=Tn.test(t.href))}return n}function T(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function er(t,e){t=at(t),t=t.replace(Zt,""),e=e||{};var r=In.exec(t),n=r[1]?r[1].toLowerCase():"",i=!!r[2],s=!!r[3],o=0,a;return i?s?(a=r[2]+r[3]+r[4],o=r[2].length+r[3].length):(a=r[2]+r[4],o=r[2].length):s?(a=r[3]+r[4],o=r[3].length):a=r[4],n==="file:"?o>=2&&(a=a.slice(2)):T(n)?a=r[4]:n?i&&(a=a.slice(2)):o>=2&&T(e.protocol)&&(a=r[4]),{protocol:n,slashes:i||T(n),slashesCount:o,rest:a}}function Rn(t,e){if(t==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,i=r[n-1],s=!1,o=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),o++):o&&(n===0&&(s=!0),r.splice(n,1),o--);return s&&r.unshift(""),(i==="."||i==="..")&&r.push(""),r.join("/")}function C(t,e,r){if(t=at(t),t=t.replace(Zt,""),!(this instanceof C))return new C(t,e,r);var n,i,s,o,a,c,d=ze.slice(),p=typeof e,l=this,x=0;for(p!=="object"&&p!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=Ne.parse),e=Yt(e),i=er(t||"",e),n=!i.protocol&&!i.slashes,l.slashes=i.slashes||n&&e.slashes,l.protocol=i.protocol||e.protocol||"",t=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||Cn.test(t))||!i.slashes&&(i.protocol||i.slashesCount<2||!T(l.protocol)))&&(d[3]=[/(.*)/,"pathname"]);x<d.length;x++){if(o=d[x],typeof o=="function"){t=o(t,l);continue}s=o[0],c=o[1],s!==s?l[c]=t:typeof s=="string"?(a=s==="@"?t.lastIndexOf(s):t.indexOf(s),~a&&(typeof o[2]=="number"?(l[c]=t.slice(0,a),t=t.slice(a+o[2])):(l[c]=t.slice(a),t=t.slice(0,a)))):(a=s.exec(t))&&(l[c]=a[1],t=t.slice(0,a.index)),l[c]=l[c]||n&&o[3]&&e[c]||"",o[4]&&(l[c]=l[c].toLowerCase())}r&&(l.query=r(l.query)),n&&e.slashes&&l.pathname.charAt(0)!=="/"&&(l.pathname!==""||e.pathname!=="")&&(l.pathname=Rn(l.pathname,e.pathname)),l.pathname.charAt(0)!=="/"&&T(l.protocol)&&(l.pathname="/"+l.pathname),Qt(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(a=l.auth.indexOf(":"),~a?(l.username=l.auth.slice(0,a),l.username=encodeURIComponent(decodeURIComponent(l.username)),l.password=l.auth.slice(a+1),l.password=encodeURIComponent(decodeURIComponent(l.password))):l.username=encodeURIComponent(decodeURIComponent(l.auth)),l.auth=l.password?l.username+":"+l.password:l.username),l.origin=l.protocol!=="file:"&&T(l.protocol)&&l.host?l.protocol+"//"+l.host:"null",l.href=l.toString()}function kn(t,e,r){var n=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(r||Ne.parse)(e)),n[t]=e;break;case"port":n[t]=e,Qt(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,Kt.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var i=t==="pathname"?"/":"#";n[t]=e.charAt(0)!==i?i+e:e}else n[t]=e;break;case"username":case"password":n[t]=encodeURIComponent(e);break;case"auth":var s=e.indexOf(":");~s?(n.username=e.slice(0,s),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=e.slice(s+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(e))}for(var o=0;o<ze.length;o++){var a=ze[o];a[4]&&(n[a[1]]=n[a[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&T(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function An(t){(!t||typeof t!="function")&&(t=Ne.stringify);var e,r=this,n=r.host,i=r.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var s=i+(r.protocol&&r.slashes||T(r.protocol)?"//":"");return r.username?(s+=r.username,r.password&&(s+=":"+r.password),s+="@"):r.password?(s+=":"+r.password,s+="@"):r.protocol!=="file:"&&T(r.protocol)&&!n&&r.pathname!=="/"&&(s+="@"),(n[n.length-1]===":"||Kt.test(r.hostname)&&!r.port)&&(n+=":"),s+=n+r.pathname,e=typeof r.query=="object"?t(r.query):r.query,e&&(s+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(s+=r.hash),s}C.prototype={set:kn,toString:An};C.extractProtocol=er;C.location=Yt;C.trimLeft=at;C.qs=Ne;var tr=C,Ln=tr,j={getOrigin:function(t){if(!t)return null;var e=new Ln(t);if(e.protocol==="file:")return null;var r=e.port;return r||(r=e.protocol==="https:"?"443":"80"),e.protocol+"//"+e.hostname+":"+r},isOriginEqual:function(t,e){var r=this.getOrigin(t)===this.getOrigin(e);return r},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var r=t.split("?");return r[0]+e+(r[1]?"?"+r[1]:"")},addQuery:function(t,e){return t+(t.indexOf("?")===-1?"?"+e:"&"+e)},isLoopbackAddr:function(t){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^\[::1\]$/.test(t)}},Qe={exports:{}};typeof Object.create=="function"?Qe.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Qe.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var h=Qe.exports,b={};function Oe(){this._listeners={}}Oe.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var r=this._listeners[t];r.indexOf(e)===-1&&(r=r.concat([e])),this._listeners[t]=r};Oe.prototype.removeEventListener=function(t,e){var r=this._listeners[t];if(r){var n=r.indexOf(e);if(n!==-1){r.length>1?this._listeners[t]=r.slice(0,n).concat(r.slice(n+1)):delete this._listeners[t];return}}};Oe.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,r=arguments.length===1?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,r),e in this._listeners)for(var n=this._listeners[e],i=0;i<n.length;i++)n[i].apply(this,r)};var rr=Oe,Pn=h,Te=rr;function P(){Te.call(this)}Pn(P,Te);P.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}};P.prototype.once=function(t,e){var r=this,n=!1;function i(){r.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}this.on(t,i)};P.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var r=arguments.length,n=new Array(r-1),i=1;i<r;i++)n[i-1]=arguments[i];for(var s=0;s<e.length;s++)e[s].apply(this,n)}};P.prototype.on=P.prototype.addListener=Te.prototype.addEventListener;P.prototype.removeListener=Te.prototype.removeEventListener;b.EventEmitter=P;var Ze={exports:{}},jt={},Nt=jt.WebSocket||jt.MozWebSocket;Nt?Ze.exports=function(e){return new Nt(e)}:Ze.exports=void 0;var Un=Ze.exports,nr=U,qn=j,Dn=h,ir=b.EventEmitter,sr=Un,Ot=function(){};function L(t,e,r){if(!L.enabled())throw new Error("Transport created when disabled");ir.call(this);var n=this,i=qn.addPath(t,"/websocket");i.slice(0,5)==="https"?i="wss"+i.slice(5):i="ws"+i.slice(4),this.url=i,this.ws=new sr(this.url,[],r),this.ws.onmessage=function(s){Ot("message event",s.data),n.emit("message",s.data)},this.unloadRef=nr.unloadAdd(function(){n.ws.close()}),this.ws.onclose=function(s){Ot("close event",s.code,s.reason),n.emit("close",s.code,s.reason),n._cleanup()},this.ws.onerror=function(s){n.emit("close",1006,"WebSocket connection broken"),n._cleanup()}}Dn(L,ir);L.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)};L.prototype.close=function(){var t=this.ws;this._cleanup(),t&&t.close()};L.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),nr.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};L.enabled=function(){return!!sr};L.transportName="websocket";L.roundTrips=2;var Mn=L,Bn=h,or=b.EventEmitter,Xn=function(){};function X(t,e){or.call(this),this.sendBuffer=[],this.sender=e,this.url=t}Bn(X,or);X.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()};X.prototype.sendScheduleWait=function(){var t=this,e;this.sendStop=function(){t.sendStop=null,clearTimeout(e)},e=setTimeout(function(){t.sendStop=null,t.sendSchedule()},25)};X.prototype.sendSchedule=function(){Xn("sendSchedule",this.sendBuffer.length);var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(r){t.sendStop=null,r?(t.emit("close",r.code||1006,"Sending error: "+r),t.close()):t.sendScheduleWait()}),this.sendBuffer=[]}};X.prototype._cleanup=function(){this.removeAllListeners()};X.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var Wn=X,Hn=h,ar=b.EventEmitter,Fn=function(){};function Ie(t,e,r){ar.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=r,this._scheduleReceiver()}Hn(Ie,ar);Ie.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(r){t.emit("message",r)}),e.once("close",function(r,n){Fn("close",r,n,t.pollIsClosing),t.poll=e=null,t.pollIsClosing||(n==="network"?t._scheduleReceiver():(t.emit("close",r||1006,n),t.removeAllListeners()))})};Ie.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var Jn=Ie,Gn=h,Vn=j,lt=Wn,zn=Jn;function ct(t,e,r,n,i){var s=Vn.addPath(t,e),o=this;lt.call(this,t,r),this.poll=new zn(n,s,i),this.poll.on("message",function(a){o.emit("message",a)}),this.poll.once("close",function(a,c){o.poll=null,o.emit("close",a,c),o.close()})}Gn(ct,lt);ct.prototype.close=function(){lt.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var lr=ct,Qn=h,Zn=j,cr=lr;function Kn(t){return function(e,r,n){var i={};typeof r=="string"&&(i.headers={"Content-type":"text/plain"});var s=Zn.addPath(e,"/xhr_send"),o=new t("POST",s,r,i);return o.once("finish",function(a){if(o=null,a!==200&&a!==204)return n(new Error("http status "+a));n()}),function(){o.close(),o=null;var a=new Error("Aborted");a.code=1e3,n(a)}}}function ur(t,e,r,n){cr.call(this,t,e,Kn(n),r,n)}Qn(ur,cr);var z=ur,Yn=h,fr=b.EventEmitter;function ce(t,e){fr.call(this);var r=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(n,i){r._chunkHandler(n,i),r.xo=null;var s=n===200?"network":"permanent";r.emit("close",null,s),r._cleanup()})}Yn(ce,fr);ce.prototype._chunkHandler=function(t,e){if(!(t!==200||!e))for(var r=-1;;this.bufferPosition+=r+1){var n=e.slice(this.bufferPosition);if(r=n.indexOf(`
`),r===-1)break;var i=n.slice(0,r);i&&this.emit("message",i)}};ce.prototype._cleanup=function(){this.removeAllListeners()};ce.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Ce=ce,Ke={},hr=b.EventEmitter,ei=h,dr=U,ti=j,oe=Ke.XMLHttpRequest,qe=function(){};function R(t,e,r,n){var i=this;hr.call(this),setTimeout(function(){i._start(t,e,r,n)},0)}ei(R,hr);R.prototype._start=function(t,e,r,n){var i=this;try{this.xhr=new oe}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}e=ti.addQuery(e,"t="+ +new Date),this.unloadRef=dr.unloadAdd(function(){i._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){qe("xhr timeout"),i.emit("finish",0,""),i._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!n||!n.noCredentials)&&R.supportsCORS&&(this.xhr.withCredentials=!0),n&&n.headers)for(var s in n.headers)this.xhr.setRequestHeader(s,n.headers[s]);this.xhr.onreadystatechange=function(){if(i.xhr){var o=i.xhr,a,c;switch(qe("readyState",o.readyState),o.readyState){case 3:try{c=o.status,a=o.responseText}catch{}c===1223&&(c=204),c===200&&a&&a.length>0&&i.emit("chunk",c,a);break;case 4:c=o.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),qe("finish",c,o.responseText),i.emit("finish",c,o.responseText),i._cleanup(!1);break}}};try{i.xhr.send(r)}catch{i.emit("finish",0,""),i._cleanup(!1)}};R.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),dr.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};R.prototype.close=function(){this._cleanup(!0)};R.enabled=!!oe;var Tt=["Active"].concat("Object").join("X");!R.enabled&&Tt in Ke&&(oe=function(){try{return new Ke[Tt]("Microsoft.XMLHTTP")}catch{return null}},R.enabled=!!new oe);var pr=!1;try{pr="withCredentials"in new oe}catch{}R.supportsCORS=pr;var mr=R,ri=h,$e=mr;function ut(t,e,r,n){$e.call(this,t,e,r,n)}ri(ut,$e);ut.enabled=$e.enabled&&$e.supportsCORS;var Re=ut,ni=h,ft=mr;function ht(t,e,r){ft.call(this,t,e,r,{noCredentials:!0})}ni(ht,ft);ht.enabled=ft.enabled;var ue=ht,G={},fe={isOpera:function(){return G.navigator&&/opera/i.test(G.navigator.userAgent)},isKonqueror:function(){return G.navigator&&/konqueror/i.test(G.navigator.userAgent)},hasDomain:function(){if(!G.document)return!0;try{return!!G.document.domain}catch{return!1}}},ii={},si=h,vr=z,oi=Ce,Ye=Re,ai=ue,li=fe;function Q(t){if(!ai.enabled&&!Ye.enabled)throw new Error("Transport created when disabled");vr.call(this,t,"/xhr_streaming",oi,Ye)}si(Q,vr);Q.enabled=function(t){return t.nullOrigin||li.isOpera()?!1:Ye.enabled};Q.transportName="xhr-streaming";Q.roundTrips=2;Q.needBody=!!ii.document;var ci=Q,gr={},br=b.EventEmitter,ui=h,yr=U,fi=fe,hi=j,di=function(){};function W(t,e,r){var n=this;br.call(this),setTimeout(function(){n._start(t,e,r)},0)}ui(W,br);W.prototype._start=function(t,e,r){var n=this,i=new gr.XDomainRequest;e=hi.addQuery(e,"t="+ +new Date),i.onerror=function(){n._error()},i.ontimeout=function(){n._error()},i.onprogress=function(){di("progress",i.responseText),n.emit("chunk",200,i.responseText)},i.onload=function(){n.emit("finish",200,i.responseText),n._cleanup(!1)},this.xdr=i,this.unloadRef=yr.unloadAdd(function(){n._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch{this._error()}};W.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};W.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),yr.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};W.prototype.close=function(){this._cleanup(!0)};W.enabled=!!(gr.XDomainRequest&&fi.hasDomain());var dt=W,pi=h,wr=z,mi=Ce,et=dt;function he(t){if(!et.enabled)throw new Error("Transport created when disabled");wr.call(this,t,"/xhr_streaming",mi,et)}pi(he,wr);he.enabled=function(t){return t.cookie_needed||t.nullOrigin?!1:et.enabled&&t.sameScheme};he.transportName="xdr-streaming";he.roundTrips=2;var xr=he,vi={},_r=vi.EventSource,gi=h,Er=b.EventEmitter,bi=_r,It=function(){};function de(t){Er.call(this);var e=this,r=this.es=new bi(t);r.onmessage=function(n){It("message",n.data),e.emit("message",decodeURI(n.data))},r.onerror=function(n){It("error",r.readyState);var i=r.readyState!==2?"network":"permanent";e._cleanup(),e._close(i)}}gi(de,Er);de.prototype.abort=function(){this._cleanup(),this._close("user")};de.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)};de.prototype._close=function(t){var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)};var yi=de,wi=h,Sr=z,xi=yi,_i=Re,Ei=_r;function Z(t){if(!Z.enabled())throw new Error("Transport created when disabled");Sr.call(this,t,"/eventsource",xi,_i)}wi(Z,Sr);Z.enabled=function(){return!!Ei};Z.transportName="eventsource";Z.roundTrips=2;var Ct=Z,De,Rt;function $r(){return Rt||(Rt=1,De="1.6.1"),De}var jr={exports:{}};(function(t){var e={},r=U,n=fe;t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in e||(e[t.exports.WPrefix]={})},postMessage:function(i,s){e.parent!==e&&e.parent.postMessage(JSON.stringify({windowId:t.exports.currentWindowId,type:i,data:s||""}),"*")},createIframe:function(i,s){var o=e.document.createElement("iframe"),a,c,d=function(){clearTimeout(a);try{o.onload=null}catch{}o.onerror=null},p=function(){o&&(d(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),r.unloadDel(c))},l=function(m){o&&(p(),s(m))},x=function(m,v){setTimeout(function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(m,v)}catch{}},0)};return o.src=i,o.style.display="none",o.style.position="absolute",o.onerror=function(){l("onerror")},o.onload=function(){clearTimeout(a),a=setTimeout(function(){l("onload timeout")},2e3)},e.document.body.appendChild(o),a=setTimeout(function(){l("timeout")},15e3),c=r.unloadAdd(p),{post:x,cleanup:p,loaded:d}},createHtmlfile:function(i,s){var o=["Active"].concat("Object").join("X"),a=new e[o]("htmlfile"),c,d,p,l=function(){clearTimeout(c),p.onerror=null},x=function(){a&&(l(),r.unloadDel(d),p.parentNode.removeChild(p),p=a=null,CollectGarbage())},m=function(O){a&&(x(),s(O))},v=function(O,q){try{setTimeout(function(){p&&p.contentWindow&&p.contentWindow.postMessage(O,q)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+e.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[t.exports.WPrefix]=e[t.exports.WPrefix];var y=a.createElement("div");return a.body.appendChild(y),p=a.createElement("iframe"),y.appendChild(p),p.src=i,p.onerror=function(){m("onerror")},c=setTimeout(function(){m("timeout")},15e3),d=r.unloadAdd(x),{post:v,cleanup:x,loaded:l}}},t.exports.iframeEnabled=!1,e.document&&(t.exports.iframeEnabled=(typeof e.postMessage=="function"||typeof e.postMessage=="object")&&!n.isKonqueror())})(jr);var pe=jr.exports,Si=h,Nr=b.EventEmitter,$i=$r(),tt=j,Or=pe,Tr=U,ji=V,Y=function(){};function k(t,e,r){if(!k.enabled())throw new Error("Transport created when disabled");Nr.call(this);var n=this;this.origin=tt.getOrigin(r),this.baseUrl=r,this.transUrl=e,this.transport=t,this.windowId=ji.string(8);var i=tt.addPath(r,"/iframe.html")+"#"+this.windowId;this.iframeObj=Or.createIframe(i,function(s){n.emit("close",1006,"Unable to load an iframe ("+s+")"),n.close()}),this.onmessageCallback=this._message.bind(this),Tr.attachEvent("message",this.onmessageCallback)}Si(k,Nr);k.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){Tr.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};k.prototype._message=function(t){if(Y("message",t.data),!tt.isOriginEqual(t.origin,this.origin)){Y("not same origin",t.origin,this.origin);return}var e;try{e=JSON.parse(t.data)}catch{Y("bad json",t.data);return}if(e.windowId!==this.windowId){Y("mismatched window id",e.windowId,this.windowId);return}switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([$i,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var r;try{r=JSON.parse(e.data)}catch{Y("bad json",e.data);return}this.emit("close",r[0],r[1]),this.close();break}};k.prototype.postMessage=function(t,e){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)};k.prototype.send=function(t){this.postMessage("m",t)};k.enabled=function(){return Or.iframeEnabled};k.transportName="iframe";k.roundTrips=2;var Ir=k,pt={isObject:function(t){var e=typeof t;return e==="function"||e==="object"&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,r,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}},Ni={},Oi=h,we=Ir,Ti=pt,Me=function(t){function e(r,n){we.call(this,t.transportName,r,n)}return Oi(e,we),e.enabled=function(r,n){if(!Ni.document)return!1;var i=Ti.extend({},n);return i.sameOrigin=!0,t.enabled(i)&&we.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=we.roundTrips+t.roundTrips-1,e.facadeTransport=t,e},je={},Ii=h,M=pe,Ci=j,Cr=b.EventEmitter,Ri=V,ki=function(){};function N(t){Cr.call(this);var e=this;M.polluteGlobalNamespace(),this.id="a"+Ri.string(6),t=Ci.addQuery(t,"c="+decodeURIComponent(M.WPrefix+"."+this.id)),ki("using htmlfile",N.htmlfileEnabled);var r=N.htmlfileEnabled?M.createHtmlfile:M.createIframe;je[M.WPrefix][this.id]={start:function(){e.iframeObj.loaded()},message:function(n){e.emit("message",n)},stop:function(){e._cleanup(),e._close("network")}},this.iframeObj=r(t,function(){e._cleanup(),e._close("permanent")})}Ii(N,Cr);N.prototype.abort=function(){this._cleanup(),this._close("user")};N.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete je[M.WPrefix][this.id]};N.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()};N.htmlfileEnabled=!1;var kt=["Active"].concat("Object").join("X");if(kt in je)try{N.htmlfileEnabled=!!new je[kt]("htmlfile")}catch{}N.enabled=N.htmlfileEnabled||M.iframeEnabled;var Ai=N,Li=h,rt=Ai,Pi=ue,Rr=z;function me(t){if(!rt.enabled)throw new Error("Transport created when disabled");Rr.call(this,t,"/htmlfile",rt,Pi)}Li(me,Rr);me.enabled=function(t){return rt.enabled&&t.sameOrigin};me.transportName="htmlfile";me.roundTrips=2;var At=me,Ui=h,kr=z,qi=Ce,nt=Re,Ar=ue;function ve(t){if(!Ar.enabled&&!nt.enabled)throw new Error("Transport created when disabled");kr.call(this,t,"/xhr",qi,nt)}Ui(ve,kr);ve.enabled=function(t){return t.nullOrigin?!1:Ar.enabled&&t.sameOrigin?!0:nt.enabled};ve.transportName="xhr-polling";ve.roundTrips=2;var Lt=ve,Di=h,Lr=z,Mi=xr,Bi=Ce,Pt=dt;function ge(t){if(!Pt.enabled)throw new Error("Transport created when disabled");Lr.call(this,t,"/xhr",Bi,Pt)}Di(ge,Lr);ge.enabled=Mi.enabled;ge.transportName="xdr-polling";ge.roundTrips=2;var Xi=ge,B={},re=pe,Pr=V,Wi=fe,Hi=j,Fi=h,Ur=b.EventEmitter,Ji=function(){};function $(t){var e=this;Ur.call(this),re.polluteGlobalNamespace(),this.id="a"+Pr.string(6);var r=Hi.addQuery(t,"c="+encodeURIComponent(re.WPrefix+"."+this.id));B[re.WPrefix][this.id]=this._callback.bind(this),this._createScript(r),this.timeoutId=setTimeout(function(){e._abort(new Error("JSONP script loaded abnormally (timeout)"))},$.timeout)}Fi($,Ur);$.prototype.abort=function(){if(B[re.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}};$.timeout=35e3;$.scriptErrorTimeout=1e3;$.prototype._callback=function(t){this._cleanup(),!this.aborting&&(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())};$.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()};$.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete B[re.WPrefix][this.id]};$.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},$.scriptErrorTimeout))};$.prototype._createScript=function(t){var e=this,r=this.script=B.document.createElement("script"),n;if(r.id="a"+Pr.string(8),r.src=t,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){e._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(Ji("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){e.loadedOkay=!0;try{r.onclick()}catch{}}r&&e._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof r.async>"u"&&B.document.attachEvent)if(Wi.isOpera())n=this.script2=B.document.createElement("script"),n.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=n.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch{}r.async=!0}typeof r.async<"u"&&(r.async=!0);var i=B.document.getElementsByTagName("head")[0];i.insertBefore(r,i.firstChild),n&&i.insertBefore(n,i.firstChild)};var Gi=$,ne={},Vi=V,Ut=j,zi=function(){},_,ie;function Qi(t){try{return ne.document.createElement('<iframe name="'+t+'">')}catch{var e=ne.document.createElement("iframe");return e.name=t,e}}function Zi(){_=ne.document.createElement("form"),_.style.display="none",_.style.position="absolute",_.method="POST",_.enctype="application/x-www-form-urlencoded",_.acceptCharset="UTF-8",ie=ne.document.createElement("textarea"),ie.name="d",_.appendChild(ie),ne.document.body.appendChild(_)}var Ki=function(t,e,r){_||Zi();var n="a"+Vi.string(8);_.target=n,_.action=Ut.addQuery(Ut.addPath(t,"/jsonp_send"),"i="+n);var i=Qi(n);i.id=n,i.style.display="none",_.appendChild(i);try{ie.value=e}catch{}_.submit();var s=function(o){i.onerror&&(i.onreadystatechange=i.onerror=i.onload=null,setTimeout(function(){i.parentNode.removeChild(i),i=null},500),ie.value="",r(o))};return i.onerror=function(){s()},i.onload=function(){s()},i.onreadystatechange=function(o){zi("onreadystatechange",n,i.readyState),i.readyState==="complete"&&s()},function(){s(new Error("Aborted"))}},Yi={},es=h,qr=lr,ts=Gi,rs=Ki;function H(t){if(!H.enabled())throw new Error("Transport created when disabled");qr.call(this,t,"/jsonp",rs,ts)}es(H,qr);H.enabled=function(){return!!Yi.document};H.transportName="jsonp-polling";H.roundTrips=1;H.needBody=!0;var ns=H,is=[Mn,ci,xr,Ct,Me(Ct),At,Me(At),Lt,Xi,Me(Lt),ns],ae=Array.prototype,mt=Object.prototype,ss=Function.prototype,le=String.prototype,Be=ae.slice,vt=mt.toString,Dr=function(t){return mt.toString.call(t)==="[object Function]"},os=function(e){return vt.call(e)==="[object Array]"},Mr=function(e){return vt.call(e)==="[object String]"},as=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),it;as?it=function(t,e,r,n){!n&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:r})}:it=function(t,e,r,n){!n&&e in t||(t[e]=r)};var be=function(t,e,r){for(var n in e)mt.hasOwnProperty.call(e,n)&&it(t,n,e[n],r)},Br=function(t){if(t==null)throw new TypeError("can't convert "+t+" to object");return Object(t)};function ls(t){var e=+t;return e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function cs(t){return t>>>0}function Xe(){}be(ss,{bind:function(e){var r=this;if(!Dr(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n=Be.call(arguments,1),i=function(){if(this instanceof c){var d=r.apply(this,n.concat(Be.call(arguments)));return Object(d)===d?d:this}else return r.apply(e,n.concat(Be.call(arguments)))},s=Math.max(0,r.length-n.length),o=[],a=0;a<s;a++)o.push("$"+a);var c=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(i);return r.prototype&&(Xe.prototype=r.prototype,c.prototype=new Xe,Xe.prototype=null),c}});be(Array,{isArray:os});var qt=Object("a"),Xr=qt[0]!=="a"||!(0 in qt),us=function(e){var r=!0,n=!0;return e&&(e.call("foo",function(i,s,o){typeof o!="object"&&(r=!1)}),e.call([1],function(){n=typeof this=="string"},"x")),!!e&&r&&n};be(ae,{forEach:function(e){var r=Br(this),n=Xr&&Mr(this)?this.split(""):r,i=arguments[1],s=-1,o=n.length>>>0;if(!Dr(e))throw new TypeError;for(;++s<o;)s in n&&e.call(i,n[s],s,r)}},!us(ae.forEach));var fs=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;be(ae,{indexOf:function(e){var r=Xr&&Mr(this)?this.split(""):Br(this),n=r.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=ls(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in r&&r[i]===e)return i;return-1}},fs);var Dt=le.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t=/()??/.exec("")[1]===void 0;le.split=function(e,r){var n=this;if(e===void 0&&r===0)return[];if(vt.call(e)!=="[object RegExp]")return Dt.call(this,e,r);var i=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),o=0,a,c,d,p;for(e=new RegExp(e.source,s+"g"),n+="",t||(a=new RegExp("^"+e.source+"$(?!\\s)",s)),r=r===void 0?-1>>>0:cs(r);(c=e.exec(n))&&(d=c.index+c[0].length,!(d>o&&(i.push(n.slice(o,c.index)),!t&&c.length>1&&c[0].replace(a,function(){for(var l=1;l<arguments.length-2;l++)arguments[l]===void 0&&(c[l]=void 0)}),c.length>1&&c.index<n.length&&ae.push.apply(i,c.slice(1)),p=c[0].length,o=d,i.length>=r)));)e.lastIndex===c.index&&e.lastIndex++;return o===n.length?(p||!e.test(""))&&i.push(""):i.push(n.slice(o)),i.length>r?i.slice(0,r):i}}():"0".split(void 0,0).length&&(le.split=function(e,r){return e===void 0&&r===0?[]:Dt.call(this,e,r)});var hs=le.substr,ds="".substr&&"0b".substr(-1)!=="b";be(le,{substr:function(e,r){return hs.call(this,e<0&&(e=this.length+e)<0?0:e,r)}},ds);var xe=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,We,ps=function(t){var e,r={},n=[];for(e=0;e<65536;e++)n.push(String.fromCharCode(e));return t.lastIndex=0,n.join("").replace(t,function(i){return r[i]="\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,r},ms={quote:function(t){var e=JSON.stringify(t);return xe.lastIndex=0,xe.test(e)?(We||(We=ps(xe)),e.replace(xe,function(r){return We[r]})):e}},He=function(){},vs=function(t){return{filterToEnabled:function(e,r){var n={main:[],facade:[]};return e?typeof e=="string"&&(e=[e]):e=[],t.forEach(function(i){if(i&&!(i.transportName==="websocket"&&r.websocket===!1)){if(e.length&&e.indexOf(i.transportName)===-1){He("not in whitelist",i.transportName);return}i.enabled(r)?(He("enabled",i.transportName),n.main.push(i),i.facadeTransport&&n.facade.push(i.facadeTransport)):He("disabled",i.transportName)}}),n}}},ee={},st={};["log","debug","warn"].forEach(function(t){var e;try{e=ee.console&&ee.console[t]&&ee.console[t].apply}catch{}st[t]=e?function(){return ee.console[t].apply(ee.console,arguments)}:t==="log"?function(){}:st.log});var gs=st;function F(t){this.type=t}F.prototype.initEvent=function(t,e,r){return this.type=t,this.bubbles=e,this.cancelable=r,this.timeStamp=+new Date,this};F.prototype.stopPropagation=function(){};F.prototype.preventDefault=function(){};F.CAPTURING_PHASE=1;F.AT_TARGET=2;F.BUBBLING_PHASE=3;var gt=F,bs={},Wr=bs.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""},ys=h,Hr=gt;function Fr(){Hr.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}ys(Fr,Hr);var ws=Fr,xs=h,Jr=gt;function Gr(t){Jr.call(this),this.initEvent("message",!1,!1),this.data=t}xs(Gr,Jr);var _s=Gr,Vr=b.EventEmitter,Es=h;function ye(){var t=this;Vr.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},ye.timeout)}Es(ye,Vr);ye.prototype.close=function(){clearTimeout(this.to)};ye.timeout=2e3;var Ss=ye,zr=b.EventEmitter,$s=h,js=pt;function bt(t,e){zr.call(this);var r=this,n=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(i,s){var o,a;if(i===200){if(a=+new Date-n,s)try{o=JSON.parse(s)}catch{}js.isObject(o)||(o={})}r.emit("finish",o,a),r.removeAllListeners()})}$s(bt,zr);bt.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var Qr=bt,Fe,Mt;function Zr(){if(Mt)return Fe;Mt=1;var t=h,e=b.EventEmitter,r=ue,n=Qr;function i(s){var o=this;e.call(this),this.ir=new n(s,r),this.ir.once("finish",function(a,c){o.ir=null,o.emit("message",JSON.stringify([a,c]))})}return t(i,e),i.transportName="iframe-info-receiver",i.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Fe=i,Fe}var Ns={},Kr=b.EventEmitter,Os=h,Ts=U,Yr=Ir,Is=Zr();function ke(t,e){var r=this;Kr.call(this);var n=function(){var i=r.ifr=new Yr(Is.transportName,e,t);i.once("message",function(s){if(s){var o;try{o=JSON.parse(s)}catch{r.emit("finish"),r.close();return}var a=o[0],c=o[1];r.emit("finish",a,c)}r.close()}),i.once("close",function(){r.emit("finish"),r.close()})};Ns.document.body?n():Ts.attachEvent("load",n)}Os(ke,Kr);ke.enabled=function(){return Yr.enabled()};ke.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var Cs=ke,en=b.EventEmitter,Rs=h,ks=j,Bt=dt,Xt=Re,As=ue,Ls=Ss,Wt=Cs,_e=Qr;function A(t,e){var r=this;en.call(this),setTimeout(function(){r.doXhr(t,e)},0)}Rs(A,en);A._getReceiver=function(t,e,r){return r.sameOrigin?new _e(e,As):Xt.enabled?new _e(e,Xt):Bt.enabled&&r.sameScheme?new _e(e,Bt):Wt.enabled()?new Wt(t,e):new _e(e,Ls)};A.prototype.doXhr=function(t,e){var r=this,n=ks.addPath(t,"/info");this.xo=A._getReceiver(t,n,e),this.timeoutRef=setTimeout(function(){r._cleanup(!1),r.emit("finish")},A.timeout),this.xo.once("finish",function(i,s){r._cleanup(!0),r.emit("finish",i,s)})};A.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null};A.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};A.timeout=8e3;var Ps=A,Je,Ht;function Us(){if(Ht)return Je;Ht=1;var t=pe;function e(r){this._transport=r,r.on("message",this._transportMessage.bind(this)),r.on("close",this._transportClose.bind(this))}return e.prototype._transportClose=function(r,n){t.postMessage("c",JSON.stringify([r,n]))},e.prototype._transportMessage=function(r){t.postMessage("t",r)},e.prototype._send=function(r){this._transport.send(r)},e.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Je=e,Je}var Ge,Ft;function qs(){if(Ft)return Ge;Ft=1;var t=j,e=U,r=Us(),n=Zr(),i=pe,s=Wr,o=function(){};return Ge=function(a,c){var d={};c.forEach(function(l){l.facadeTransport&&(d[l.facadeTransport.transportName]=l.facadeTransport)}),d[n.transportName]=n;var p;a.bootstrap_iframe=function(){var l;i.currentWindowId=s.hash.slice(1);var x=function(m){if(m.source===parent&&(typeof p>"u"&&(p=m.origin),m.origin===p)){var v;try{v=JSON.parse(m.data)}catch{o("bad json",m.data);return}if(v.windowId===i.currentWindowId)switch(v.type){case"s":var y;try{y=JSON.parse(v.data)}catch{o("bad json",v.data);break}var O=y[0],q=y[1],D=y[2],J=y[3];if(O!==a.version)throw new Error('Incompatible SockJS! Main site uses: "'+O+'", the iframe: "'+a.version+'".');if(!t.isOriginEqual(D,s.href)||!t.isOriginEqual(J,s.href))throw new Error("Can't connect to different domain from within an iframe. ("+s.href+", "+D+", "+J+")");l=new r(new d[q](D,J));break;case"m":l._send(v.data);break;case"c":l&&l._close(),l=null;break}}};e.attachEvent("message",x),i.postMessage("s")}},Ge}var Ee={},Ds=tr,Ms=h,Jt=V,Bs=ms,te=j,Xs=U,Ws=vs,Hs=pt,Fs=fe,Js=gs,yt=gt,tn=rr,Se=Wr,Gs=ws,Gt=_s,Vs=Ps,I=function(){},rn;function f(t,e,r){if(!(this instanceof f))return new f(t,e,r);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");tn.call(this),this.readyState=f.CONNECTING,this.extensions="",this.protocol="",r=r||{},r.protocols_whitelist&&Js.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=r.transports,this._transportOptions=r.transportOptions||{},this._timeout=r.timeout||0;var n=r.sessionId||8;if(typeof n=="function")this._generateSessionId=n;else if(typeof n=="number")this._generateSessionId=function(){return Jt.string(n)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=r.server||Jt.numberString(1e3);var i=new Ds(t);if(!i.host||!i.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(i.hash)throw new SyntaxError("The URL must not contain a fragment");if(i.protocol!=="http:"&&i.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+i.protocol+"' is not allowed.");var s=i.protocol==="https:";if(Se.protocol==="https:"&&!s&&!te.isLoopbackAddr(i.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var o=e.sort();o.forEach(function(c,d){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(d<o.length-1&&c===o[d+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var a=te.getOrigin(Se.href);this._origin=a?a.toLowerCase():null,i.set("pathname",i.pathname.replace(/\/+$/,"")),this.url=i.href,I("using url",this.url),this._urlInfo={nullOrigin:!Fs.hasDomain(),sameOrigin:te.isOriginEqual(this.url,Se.href),sameScheme:te.isSchemeEqual(this.url,Se.href)},this._ir=new Vs(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}Ms(f,tn);function nn(t){return t===1e3||t>=3e3&&t<=4999}f.prototype.close=function(t,e){if(t&&!nn(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===f.CLOSING||this.readyState===f.CLOSED)){var r=!0;this._close(t||1e3,e||"Normal closure",r)}};f.prototype.send=function(t){if(typeof t!="string"&&(t=""+t),this.readyState===f.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===f.OPEN&&this._transport.send(Bs.quote(t))};f.version=$r();f.CONNECTING=0;f.OPEN=1;f.CLOSING=2;f.CLOSED=3;f.prototype._receiveInfo=function(t,e){if(this._ir=null,!t){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=Hs.extend(t,this._urlInfo);var r=rn.filterToEnabled(this._transportsWhitelist,t);this._transports=r.main,I(this._transports.length+" enabled transports"),this._connect()};f.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(I("attempt",t.transportName),t.needBody&&(!Ee.document.body||typeof Ee.document.readyState<"u"&&Ee.document.readyState!=="complete"&&Ee.document.readyState!=="interactive")){this._transports.unshift(t),Xs.attachEvent("load",this._connect.bind(this));return}var e=Math.max(this._timeout,this._rto*t.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e);var r=te.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),n=this._transportOptions[t.transportName],i=new t(r,this._transUrl,n);i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=t.transportName,this._transport=i;return}this._close(2e3,"All transports failed",!1)};f.prototype._transportTimeout=function(){this.readyState===f.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};f.prototype._transportMessage=function(t){var e=this,r=t.slice(0,1),n=t.slice(1),i;switch(r){case"o":this._open();return;case"h":this.dispatchEvent(new yt("heartbeat")),I("heartbeat",this.transport);return}if(n)try{i=JSON.parse(n)}catch{}if(!(typeof i>"u"))switch(r){case"a":Array.isArray(i)&&i.forEach(function(s){I("message",e.transport),e.dispatchEvent(new Gt(s))});break;case"m":I("message",this.transport),this.dispatchEvent(new Gt(i));break;case"c":Array.isArray(i)&&i.length===2&&this._close(i[0],i[1],!0);break}};f.prototype._transportClose=function(t,e){if(I("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!nn(t)&&t!==2e3&&this.readyState===f.CONNECTING){this._connect();return}this._close(t,e)};f.prototype._open=function(){I("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===f.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=f.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new yt("open")),I("connected",this.transport)):this._close(1006,"Server lost session")};f.prototype._close=function(t,e,r){I("_close",this.transport,t,e,r,this.readyState);var n=!1;if(this._ir&&(n=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===f.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=f.CLOSING,setTimeout((function(){this.readyState=f.CLOSED,n&&this.dispatchEvent(new yt("error"));var i=new Gs;i.wasClean=r||!1,i.code=t||1e3,i.reason=e,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};f.prototype.countRTO=function(t){return t>100?4*t:300+t};var zs=function(t){return rn=Ws(t),qs()(f,t),f},Vt={},Qs=is;zs(Qs);"_sockjs_onload"in Vt&&setTimeout(Vt._sockjs_onload,1);function ro(){const t={userName:"",password:""},[e,r]=S.useState(t),[n,i]=S.useState({}),[s,o]=S.useState(!1),[a,c]=S.useState(!1),[d,p]=S.useState(""),[l,x]=S.useState(!1);S.useState([]),S.useState("");const m=S.useRef(null),v=fn(),y=hn(),O=Pe(dn),q=Pe(pn),D=Pe(mn);S.useEffect(()=>{(Date.now()>=D||!q||!O)&&v("/")},[D,v]),S.useEffect(()=>{O&&q&&v("/DashBoard")},[O,q,v]);const J=E=>{const{name:g,value:w}=E.target;r({...e,[g]:w})},Ae=E=>{E.preventDefault();const g=on(e);i(g),o(!0)},sn=E=>{const g=se.over(function(){return new WebSocket("ws://13.233.228.245/ws")}),w=se.over(g);w.connect({},K=>{console.log("Connected to WebSocket:",K),w.subscribe(`/user/${E}/queue/messages`,Le=>{const ln=JSON.parse(Le.body);console.log(ln)})},K=>{console.error("WebSocket Connection Error:",K)}),m.current=w};S.useEffect(()=>((async()=>{if(Object.keys(n).length===0&&s){c(!0);try{const g=await fetch("https://udise.pytosoft.com/v1/login/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!g.ok){const Le=await g.json();throw new Error(`HTTP error! ${g.status}: ${Le.message}`)}const w=await g.json();y(vn(w.id)),y(gn(w.authtoken));const K=w.role==="User"?"USER":w.role.toUpperCase();y(bn(K)),y(yn(w.name)),sn(w.id),v("/Dashboard")}catch(g){console.error("Login error:",g),p("Login failed. Please check your credentials.")}finally{c(!1),o(!1)}}})(),()=>{m.current&&m.current.disconnect()}),[n,s,e,v,y]);const on=E=>{const g={},w=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;return E.userName?w.test(E.userName)||(g.userName="Invalid username"):g.userName="Username is required",E.password||(g.password="Password is required"),g},an=()=>{x(E=>!E)};return u.jsx("div",{className:"container-fluid container",children:u.jsx("div",{className:"auth-page-wrapper auth-bg-cover py-5 d-flex",children:u.jsx("div",{className:"auth-page-content overflow-hidden pt-sm-5",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"row d-flex",children:u.jsx("div",{className:"col-sm-12",children:u.jsx("div",{className:"card overflow-hidden",children:u.jsxs("div",{className:"rows row g-3",children:[u.jsx("div",{className:"col-sm-6",children:u.jsxs("div",{className:"p-sm-5 p-4 auth-one-bg h-100",children:[u.jsx("div",{className:"bg-overlay"}),u.jsxs("div",{className:"position-relative h-100 d-flex flex-column",children:[u.jsx("div",{className:"mb-4 text-center",children:u.jsx("img",{src:wn,alt:"Logo",height:"100"})}),u.jsxs("div",{className:"mt-auto",children:[u.jsx("div",{className:"mb-3",children:u.jsx("i",{className:"ri-double-quotes-l display-4 text-success"})}),u.jsxs("div",{id:"qoutescarouselIndicators",className:"carousel slide","data-bs-ride":"carousel",children:[u.jsxs("div",{className:"carousel-indicators",children:[u.jsx("button",{type:"button","data-bs-target":"#qoutescarouselIndicators","data-bs-slide-to":"0",className:"active","aria-current":"true","aria-label":"Slide 1"}),u.jsx("button",{type:"button","data-bs-target":"#qoutescarouselIndicators","data-bs-slide-to":"1","aria-label":"Slide 2"}),u.jsx("button",{type:"button","data-bs-target":"#qoutescarouselIndicators","data-bs-slide-to":"2","aria-label":"Slide 3"})]}),u.jsxs("div",{className:"carousel-inner text-center text-white pb-5",children:[u.jsx("div",{className:"carousel-item active",children:u.jsx("p",{className:"fs-5 fst-italic",children:'"Empowering Tomorrow, Today: Innovate, Integrate, Illuminate with Pytosoft IT Solution Pvt. Ltd"'})}),u.jsx("div",{className:"carousel-item",children:u.jsx("p",{className:"fs-5 fst-italic",children:'"Lead Flow Analysis Data Analysis Mastery"'})}),u.jsx("div",{className:"carousel-item",children:u.jsx("p",{className:"fs-5 fst-italic",children:'"Lead Flow Analysis AI Machine Learning Mastery"'})})]})]})]})]})]})}),u.jsx("div",{className:"col-sm-6",children:u.jsxs("div",{className:"p-sm-5 p-4",children:[u.jsx("h4",{className:"text-primary",children:"Hello! Let's get started"}),u.jsx("p",{className:"text-muted",children:"Sign in to continue."}),u.jsxs("form",{onSubmit:Ae,children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{htmlFor:"userName",className:"form-label",children:"Username"}),u.jsx("input",{type:"email",name:"userName",className:`form-control ${n.userName?"is-invalid":""}`,id:"userName",placeholder:"Enter username",value:e.userName,onChange:J}),n.userName&&u.jsx("div",{className:"invalid-feedback",children:n.userName})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"form-label",htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"position-relative auth-pass-inputgroup mb-3",children:[u.jsx("input",{type:l?"text":"password",name:"password",className:`form-control pe-5 password-input ${n.password?"is-invalid":""}`,placeholder:"Enter password",id:"password",value:e.password,onChange:J}),u.jsx("button",{type:"button",className:"btn btn-link position-absolute end-0 top-0 text-muted",onClick:an,children:u.jsx("i",{className:`ri-${l?"eye-off":"eye"}-fill`})}),n.password&&u.jsx("div",{className:"invalid-feedback",children:n.password})]})]}),u.jsx("button",{className:"btn btn-success w-100",type:"submit",disabled:a,children:a?"Signing In...":"Sign In"}),d&&u.jsx("div",{className:"alert alert-danger mt-3",children:d})]})]})})]})})})})})})})})}export{ro as default};
