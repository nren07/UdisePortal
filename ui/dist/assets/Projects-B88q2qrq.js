import{r as n,a as l,g as S,b as p,c as u,d as N,u as b,e as f,f as v,j as e,L as j}from"./index-CxiSGgYB.js";import{S as k}from"./Sidebar-D-TkF408.js";/* empty css                  *//* empty css                      */import P from"./Upload-1qjIr851.js";import"./appStore-Dylo_vw9.js";function T(){const[s,t]=n.useState([]);l(S);const c=l(p),r=l(u),d=l(N),o=b(),i=f();n.useEffect(()=>{(Date.now()>=d||!r||!c)&&(i(v()),o("/"))},[i,o,d,r,c]);const m=async()=>{try{const a=await fetch(`http://udise.pytosoft.com/v1/job/${c}/getJobs`,{method:"GET",headers:{Authorization:`Bearer ${r}`}});if(!a.ok)throw new Error("Network response was not ok");const h=await a.json();t(h)}catch(a){console.error("Something went wrong",a)}};return n.useEffect(()=>{m()},[c,r]),e.jsx("div",{className:"row mb-5",children:s.map(a=>e.jsx(C,{item:a,navigate:o},a.id))})}const C=({item:s,navigate:t})=>e.jsx("div",{className:"col-xxl-3 col-sm-6 project-card",children:e.jsx("div",{className:"card",style:{cursor:"pointer"},tabIndex:"0",onClick:()=>t(`/ProjectTitle/${s.id}`,{state:{item:s}}),children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"p-3 bg-soft-project rounded-top",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"flex-grow-1",children:e.jsx("h5",{className:"mb-0 fs-14",children:e.jsx("a",{href:"#",className:"text-white",children:s.jobTitle})})}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(E,{item:s})})]})}),e.jsx(L,{item:s})]})})}),E=({item:s})=>e.jsxs("div",{className:"d-flex gap-1 align-items-center my-n2",children:[e.jsx("button",{type:"button",className:"btn avatar-xs p-0 favourite-btn shadow-none active",children:e.jsx("span",{className:"avatar-title bg-transparent fs-15",children:e.jsx("i",{className:"ri-star-fill"})})}),e.jsxs("div",{className:"dropdown",children:[e.jsx("button",{className:"btn btn-link text-muted p-1 mt-n1 py-0 text-decoration-none fs-15 shadow-none","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true",children:e.jsx("i",{className:"icon-sm ri-list-check",style:{color:"white"}})}),e.jsx("div",{className:"dropdown-menu dropdown-menu-end",children:e.jsxs("a",{className:"dropdown-item",href:`/Projects/${s.id}`,children:[e.jsx("i",{className:"ri-eye-fill align-bottom me-2 text-muted"}),"View"]})})]})]}),L=({item:s})=>e.jsx("div",{className:"py-3",children:e.jsxs("div",{className:"row gy-3",children:[e.jsx(x,{label:"Status",value:s.jobStatus}),e.jsx(x,{label:"Uploaded On",value:new Date(s.uploadedOn).toLocaleDateString()}),e.jsx(x,{label:"File Name",value:s.fileName}),e.jsx(x,{label:"Job Type",value:s.jobType})]})}),x=({label:s,value:t})=>e.jsx("div",{className:"col-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-muted mb-1",children:s}),e.jsx("h5",{className:"fs-14",children:t})]})}),J=()=>{const[s,t]=n.useState(""),[c,r]=n.useState(!1),d=y=>t(y.target.value),o=l(p),i=l(u),m=l(N),a=b(),h=f();n.useEffect(()=>{(Date.now()>=m||!i||!o)&&(h(v()),a("/"))},[h,a,m,i,o]);const g=()=>{r(!0)},w=()=>{r(!1)};return e.jsxs("div",{className:"d-flex mb-4",style:{backgroundColor:"#f3f6f9",minHeight:"100vh"},children:[e.jsx(k,{}),e.jsx("div",{className:"flex-grow-1 p-4 mt-4",children:e.jsx("div",{className:"page-content",children:e.jsxs("div",{className:"container-fluid",children:[e.jsx(D,{}),e.jsx(B,{searchTerm:s,onSearchChange:d,handleOpenModal:g}),c&&e.jsx(P,{handleClose:w}),e.jsx(T,{})]})})})]})},D=()=>e.jsx("div",{className:"row mt-2 ml-0 p-3",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[e.jsx("h4",{className:"mb-sm-0",children:"Projects"}),e.jsx(I,{})]})})}),I=()=>e.jsx("div",{className:"page-title-right",children:e.jsxs("ol",{className:"breadcrumb m-0",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(j,{to:"#",children:"Projects"})}),e.jsx("li",{className:"breadcrumb-item",children:e.jsx(j,{to:"/app/projects",children:"Project List"})})]})}),B=({searchTerm:s,onSearchChange:t,handleOpenModal:c})=>e.jsx("div",{children:e.jsx("div",{className:"card mt-3",children:e.jsx("div",{className:"card-body",style:{backgroundColor:"white"},children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"search-box",children:[e.jsx("input",{type:"text",className:"form-control search",placeholder:"Search for project...",value:s,onChange:t}),e.jsx("i",{className:"ri-search-line search-icon"})]})}),e.jsx("div",{className:"col-md-auto ms-auto",children:e.jsxs("button",{onClick:c,className:"btn btn-success mt-1 py-1",children:[e.jsx("i",{className:"ri-add-fill align-bottom me-1"})," Add Project"]})})]})})})});export{J as default};
