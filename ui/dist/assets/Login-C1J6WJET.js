import{C as sn,V as on,r as N,u as an,e as ln,j as u,l as cn,m as un,n as fn,o as hn}from"./index-CxiSGgYB.js";/* empty css                      */import{l as dn}from"./logo-DVoxnjrJ.js";/* empty css                  */import"./bootstrap.bundle.min-DBbfE-QU.js";class pn{constructor(e){this.client=e}get outgoing(){return this.client.heartbeatOutgoing}set outgoing(e){this.client.heartbeatOutgoing=e}get incoming(){return this.client.heartbeatIncoming}set incoming(e){this.client.heartbeatIncoming=e}}class yt extends sn{constructor(e){super(),this.maxWebSocketFrameSize=16*1024,this._heartbeatInfo=new pn(this),this.reconnect_delay=0,this.webSocketFactory=e,this.debug=(...r)=>{console.log(...r)}}_parseConnect(...e){let r,n,i,s={};if(e.length<2)throw new Error("Connect requires at least 2 arguments");if(typeof e[1]=="function")[s,n,i,r]=e;else switch(e.length){case 6:[s.login,s.passcode,n,i,r,s.host]=e;break;default:[s.login,s.passcode,n,i,r]=e}return[s,n,i,r]}connect(...e){const r=this._parseConnect(...e);r[0]&&(this.connectHeaders=r[0]),r[1]&&(this.onConnect=r[1]),r[2]&&(this.onStompError=r[2]),r[3]&&(this.onWebSocketClose=r[3]),super.activate()}disconnect(e,r={}){e&&(this.onDisconnect=e),this.disconnectHeaders=r,super.deactivate()}send(e,r={},n=""){r=Object.assign({},r);const i=r["content-length"]===!1;i&&delete r["content-length"],this.publish({destination:e,headers:r,body:n,skipContentLengthHeader:i})}set reconnect_delay(e){this.reconnectDelay=e}get ws(){return this.webSocket}get version(){return this.connectedVersion}get onreceive(){return this.onUnhandledMessage}set onreceive(e){this.onUnhandledMessage=e}get onreceipt(){return this.onUnhandledReceipt}set onreceipt(e){this.onUnhandledReceipt=e}get heartbeat(){return this._heartbeatInfo}set heartbeat(e){this.heartbeatIncoming=e.incoming,this.heartbeatOutgoing=e.outgoing}}class se{static client(e,r){r==null&&(r=on.default.protocolVersions());const n=()=>{const i=se.WebSocketClass||WebSocket;return new i(e,r)};return new yt(n)}static over(e){let r;return typeof e=="function"?r=e:(console.warn("Stomp.over did not receive a factory, auto reconnect will not work. Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over"),r=()=>e),new yt(r)}}se.WebSocketClass=null;var Vt={exports:{}},Ge={},Pe={};Pe.crypto&&Pe.crypto.getRandomValues?Ge.randomBytes=function(t){var e=new Uint8Array(t);return Pe.crypto.getRandomValues(e),e}:Ge.randomBytes=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=Math.floor(Math.random()*256);return e};var mn=Ge,wt="abcdefghijklmnopqrstuvwxyz012345",J={string:function(t){for(var e=wt.length,r=mn.randomBytes(t),n=[],i=0;i<t;i++)n.push(wt.substr(r[i]%e,1));return n.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length,r=new Array(e+1).join("0");return(r+this.number(t)).slice(-e)}};(function(t){var e={},r=J,n={},i=!1,s=e.chrome&&e.chrome.app&&e.chrome.app.runtime;t.exports={attachEvent:function(a,c){typeof e.addEventListener<"u"?e.addEventListener(a,c,!1):e.document&&e.attachEvent&&(e.document.attachEvent("on"+a,c),e.attachEvent("on"+a,c))},detachEvent:function(a,c){typeof e.addEventListener<"u"?e.removeEventListener(a,c,!1):e.document&&e.detachEvent&&(e.document.detachEvent("on"+a,c),e.detachEvent("on"+a,c))},unloadAdd:function(a){if(s)return null;var c=r.string(8);return n[c]=a,i&&setTimeout(this.triggerUnloadCallbacks,0),c},unloadDel:function(a){a in n&&delete n[a]},triggerUnloadCallbacks:function(){for(var a in n)n[a](),delete n[a]}};var o=function(){i||(i=!0,t.exports.triggerUnloadCallbacks())};s||t.exports.attachEvent("unload",o)})(Vt);var U=Vt.exports,vn=function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},st={},gn=Object.prototype.hasOwnProperty,bn;function xt(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return null}}function _t(t){try{return encodeURIComponent(t)}catch{return null}}function yn(t){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},n;n=e.exec(t);){var i=xt(n[1]),s=xt(n[2]);i===null||s===null||i in r||(r[i]=s)}return r}function wn(t,e){e=e||"";var r=[],n,i;typeof e!="string"&&(e="?");for(i in t)if(gn.call(t,i)){if(n=t[i],!n&&(n===null||n===bn||isNaN(n))&&(n=""),i=_t(i),n=_t(n),i===null||n===null)continue;r.push(i+"="+n)}return r.length?e+r.join("&"):""}st.stringify=wn;st.parse=yn;var Et={},zt=vn,Ne=st,xn=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Qt=/[\n\r\t]/g,_n=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Zt=/:\d+$/,En=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Sn=/^[a-zA-Z]:/;function ot(t){return(t||"").toString().replace(xn,"")}var Ve=[["#","hash"],["?","query"],function(e,r){return O(r.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],St={hash:1,query:1};function Kt(t){var e;typeof window<"u"?e=window:typeof Et<"u"?e=Et:typeof self<"u"?e=self:e={};var r=e.location||{};t=t||r;var n={},i=typeof t,s;if(t.protocol==="blob:")n=new T(unescape(t.pathname),{});else if(i==="string"){n=new T(t,{});for(s in St)delete n[s]}else if(i==="object"){for(s in t)s in St||(n[s]=t[s]);n.slashes===void 0&&(n.slashes=_n.test(t.href))}return n}function O(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function Yt(t,e){t=ot(t),t=t.replace(Qt,""),e=e||{};var r=En.exec(t),n=r[1]?r[1].toLowerCase():"",i=!!r[2],s=!!r[3],o=0,a;return i?s?(a=r[2]+r[3]+r[4],o=r[2].length+r[3].length):(a=r[2]+r[4],o=r[2].length):s?(a=r[3]+r[4],o=r[3].length):a=r[4],n==="file:"?o>=2&&(a=a.slice(2)):O(n)?a=r[4]:n?i&&(a=a.slice(2)):o>=2&&O(e.protocol)&&(a=r[4]),{protocol:n,slashes:i||O(n),slashesCount:o,rest:a}}function $n(t,e){if(t==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,i=r[n-1],s=!1,o=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),o++):o&&(n===0&&(s=!0),r.splice(n,1),o--);return s&&r.unshift(""),(i==="."||i==="..")&&r.push(""),r.join("/")}function T(t,e,r){if(t=ot(t),t=t.replace(Qt,""),!(this instanceof T))return new T(t,e,r);var n,i,s,o,a,c,d=Ve.slice(),p=typeof e,l=this,w=0;for(p!=="object"&&p!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=Ne.parse),e=Kt(e),i=Yt(t||"",e),n=!i.protocol&&!i.slashes,l.slashes=i.slashes||n&&e.slashes,l.protocol=i.protocol||e.protocol||"",t=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||Sn.test(t))||!i.slashes&&(i.protocol||i.slashesCount<2||!O(l.protocol)))&&(d[3]=[/(.*)/,"pathname"]);w<d.length;w++){if(o=d[w],typeof o=="function"){t=o(t,l);continue}s=o[0],c=o[1],s!==s?l[c]=t:typeof s=="string"?(a=s==="@"?t.lastIndexOf(s):t.indexOf(s),~a&&(typeof o[2]=="number"?(l[c]=t.slice(0,a),t=t.slice(a+o[2])):(l[c]=t.slice(a),t=t.slice(0,a)))):(a=s.exec(t))&&(l[c]=a[1],t=t.slice(0,a.index)),l[c]=l[c]||n&&o[3]&&e[c]||"",o[4]&&(l[c]=l[c].toLowerCase())}r&&(l.query=r(l.query)),n&&e.slashes&&l.pathname.charAt(0)!=="/"&&(l.pathname!==""||e.pathname!=="")&&(l.pathname=$n(l.pathname,e.pathname)),l.pathname.charAt(0)!=="/"&&O(l.protocol)&&(l.pathname="/"+l.pathname),zt(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(a=l.auth.indexOf(":"),~a?(l.username=l.auth.slice(0,a),l.username=encodeURIComponent(decodeURIComponent(l.username)),l.password=l.auth.slice(a+1),l.password=encodeURIComponent(decodeURIComponent(l.password))):l.username=encodeURIComponent(decodeURIComponent(l.auth)),l.auth=l.password?l.username+":"+l.password:l.username),l.origin=l.protocol!=="file:"&&O(l.protocol)&&l.host?l.protocol+"//"+l.host:"null",l.href=l.toString()}function jn(t,e,r){var n=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(r||Ne.parse)(e)),n[t]=e;break;case"port":n[t]=e,zt(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,Zt.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var i=t==="pathname"?"/":"#";n[t]=e.charAt(0)!==i?i+e:e}else n[t]=e;break;case"username":case"password":n[t]=encodeURIComponent(e);break;case"auth":var s=e.indexOf(":");~s?(n.username=e.slice(0,s),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=e.slice(s+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(e))}for(var o=0;o<Ve.length;o++){var a=Ve[o];a[4]&&(n[a[1]]=n[a[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&O(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function Nn(t){(!t||typeof t!="function")&&(t=Ne.stringify);var e,r=this,n=r.host,i=r.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var s=i+(r.protocol&&r.slashes||O(r.protocol)?"//":"");return r.username?(s+=r.username,r.password&&(s+=":"+r.password),s+="@"):r.password?(s+=":"+r.password,s+="@"):r.protocol!=="file:"&&O(r.protocol)&&!n&&r.pathname!=="/"&&(s+="@"),(n[n.length-1]===":"||Zt.test(r.hostname)&&!r.port)&&(n+=":"),s+=n+r.pathname,e=typeof r.query=="object"?t(r.query):r.query,e&&(s+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(s+=r.hash),s}T.prototype={set:jn,toString:Nn};T.extractProtocol=Yt;T.location=Kt;T.trimLeft=ot;T.qs=Ne;var er=T,On=er,$={getOrigin:function(t){if(!t)return null;var e=new On(t);if(e.protocol==="file:")return null;var r=e.port;return r||(r=e.protocol==="https:"?"443":"80"),e.protocol+"//"+e.hostname+":"+r},isOriginEqual:function(t,e){var r=this.getOrigin(t)===this.getOrigin(e);return r},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var r=t.split("?");return r[0]+e+(r[1]?"?"+r[1]:"")},addQuery:function(t,e){return t+(t.indexOf("?")===-1?"?"+e:"&"+e)},isLoopbackAddr:function(t){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^\[::1\]$/.test(t)}},ze={exports:{}};typeof Object.create=="function"?ze.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ze.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var h=ze.exports,g={};function Oe(){this._listeners={}}Oe.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var r=this._listeners[t];r.indexOf(e)===-1&&(r=r.concat([e])),this._listeners[t]=r};Oe.prototype.removeEventListener=function(t,e){var r=this._listeners[t];if(r){var n=r.indexOf(e);if(n!==-1){r.length>1?this._listeners[t]=r.slice(0,n).concat(r.slice(n+1)):delete this._listeners[t];return}}};Oe.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,r=arguments.length===1?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,r),e in this._listeners)for(var n=this._listeners[e],i=0;i<n.length;i++)n[i].apply(this,r)};var tr=Oe,In=h,Ie=tr;function P(){Ie.call(this)}In(P,Ie);P.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}};P.prototype.once=function(t,e){var r=this,n=!1;function i(){r.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}this.on(t,i)};P.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var r=arguments.length,n=new Array(r-1),i=1;i<r;i++)n[i-1]=arguments[i];for(var s=0;s<e.length;s++)e[s].apply(this,n)}};P.prototype.on=P.prototype.addListener=Ie.prototype.addEventListener;P.prototype.removeListener=Ie.prototype.removeEventListener;g.EventEmitter=P;var Qe={exports:{}},$t={},jt=$t.WebSocket||$t.MozWebSocket;jt?Qe.exports=function(e){return new jt(e)}:Qe.exports=void 0;var Tn=Qe.exports,rr=U,Cn=$,Rn=h,nr=g.EventEmitter,ir=Tn,Nt=function(){};function L(t,e,r){if(!L.enabled())throw new Error("Transport created when disabled");nr.call(this);var n=this,i=Cn.addPath(t,"/websocket");i.slice(0,5)==="https"?i="wss"+i.slice(5):i="ws"+i.slice(4),this.url=i,this.ws=new ir(this.url,[],r),this.ws.onmessage=function(s){Nt("message event",s.data),n.emit("message",s.data)},this.unloadRef=rr.unloadAdd(function(){n.ws.close()}),this.ws.onclose=function(s){Nt("close event",s.code,s.reason),n.emit("close",s.code,s.reason),n._cleanup()},this.ws.onerror=function(s){n.emit("close",1006,"WebSocket connection broken"),n._cleanup()}}Rn(L,nr);L.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)};L.prototype.close=function(){var t=this.ws;this._cleanup(),t&&t.close()};L.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),rr.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};L.enabled=function(){return!!ir};L.transportName="websocket";L.roundTrips=2;var kn=L,An=h,sr=g.EventEmitter,Ln=function(){};function M(t,e){sr.call(this),this.sendBuffer=[],this.sender=e,this.url=t}An(M,sr);M.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()};M.prototype.sendScheduleWait=function(){var t=this,e;this.sendStop=function(){t.sendStop=null,clearTimeout(e)},e=setTimeout(function(){t.sendStop=null,t.sendSchedule()},25)};M.prototype.sendSchedule=function(){Ln("sendSchedule",this.sendBuffer.length);var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(r){t.sendStop=null,r?(t.emit("close",r.code||1006,"Sending error: "+r),t.close()):t.sendScheduleWait()}),this.sendBuffer=[]}};M.prototype._cleanup=function(){this.removeAllListeners()};M.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var Pn=M,Un=h,or=g.EventEmitter,qn=function(){};function Te(t,e,r){or.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=r,this._scheduleReceiver()}Un(Te,or);Te.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(r){t.emit("message",r)}),e.once("close",function(r,n){qn("close",r,n,t.pollIsClosing),t.poll=e=null,t.pollIsClosing||(n==="network"?t._scheduleReceiver():(t.emit("close",r||1006,n),t.removeAllListeners()))})};Te.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var Dn=Te,Mn=h,Xn=$,at=Pn,Bn=Dn;function lt(t,e,r,n,i){var s=Xn.addPath(t,e),o=this;at.call(this,t,r),this.poll=new Bn(n,s,i),this.poll.on("message",function(a){o.emit("message",a)}),this.poll.once("close",function(a,c){o.poll=null,o.emit("close",a,c),o.close()})}Mn(lt,at);lt.prototype.close=function(){at.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var ar=lt,Wn=h,Hn=$,lr=ar;function Fn(t){return function(e,r,n){var i={};typeof r=="string"&&(i.headers={"Content-type":"text/plain"});var s=Hn.addPath(e,"/xhr_send"),o=new t("POST",s,r,i);return o.once("finish",function(a){if(o=null,a!==200&&a!==204)return n(new Error("http status "+a));n()}),function(){o.close(),o=null;var a=new Error("Aborted");a.code=1e3,n(a)}}}function cr(t,e,r,n){lr.call(this,t,e,Fn(n),r,n)}Wn(cr,lr);var G=cr,Jn=h,ur=g.EventEmitter;function ce(t,e){ur.call(this);var r=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(n,i){r._chunkHandler(n,i),r.xo=null;var s=n===200?"network":"permanent";r.emit("close",null,s),r._cleanup()})}Jn(ce,ur);ce.prototype._chunkHandler=function(t,e){if(!(t!==200||!e))for(var r=-1;;this.bufferPosition+=r+1){var n=e.slice(this.bufferPosition);if(r=n.indexOf(`
`),r===-1)break;var i=n.slice(0,r);i&&this.emit("message",i)}};ce.prototype._cleanup=function(){this.removeAllListeners()};ce.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Ce=ce,Ze={},fr=g.EventEmitter,Gn=h,hr=U,Vn=$,oe=Ze.XMLHttpRequest,Ue=function(){};function C(t,e,r,n){var i=this;fr.call(this),setTimeout(function(){i._start(t,e,r,n)},0)}Gn(C,fr);C.prototype._start=function(t,e,r,n){var i=this;try{this.xhr=new oe}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}e=Vn.addQuery(e,"t="+ +new Date),this.unloadRef=hr.unloadAdd(function(){i._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Ue("xhr timeout"),i.emit("finish",0,""),i._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!n||!n.noCredentials)&&C.supportsCORS&&(this.xhr.withCredentials=!0),n&&n.headers)for(var s in n.headers)this.xhr.setRequestHeader(s,n.headers[s]);this.xhr.onreadystatechange=function(){if(i.xhr){var o=i.xhr,a,c;switch(Ue("readyState",o.readyState),o.readyState){case 3:try{c=o.status,a=o.responseText}catch{}c===1223&&(c=204),c===200&&a&&a.length>0&&i.emit("chunk",c,a);break;case 4:c=o.status,c===1223&&(c=204),(c===12005||c===12029)&&(c=0),Ue("finish",c,o.responseText),i.emit("finish",c,o.responseText),i._cleanup(!1);break}}};try{i.xhr.send(r)}catch{i.emit("finish",0,""),i._cleanup(!1)}};C.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),hr.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};C.prototype.close=function(){this._cleanup(!0)};C.enabled=!!oe;var Ot=["Active"].concat("Object").join("X");!C.enabled&&Ot in Ze&&(oe=function(){try{return new Ze[Ot]("Microsoft.XMLHTTP")}catch{return null}},C.enabled=!!new oe);var dr=!1;try{dr="withCredentials"in new oe}catch{}C.supportsCORS=dr;var pr=C,zn=h,$e=pr;function ct(t,e,r,n){$e.call(this,t,e,r,n)}zn(ct,$e);ct.enabled=$e.enabled&&$e.supportsCORS;var Re=ct,Qn=h,ut=pr;function ft(t,e,r){ut.call(this,t,e,r,{noCredentials:!0})}Qn(ft,ut);ft.enabled=ut.enabled;var ue=ft,F={},fe={isOpera:function(){return F.navigator&&/opera/i.test(F.navigator.userAgent)},isKonqueror:function(){return F.navigator&&/konqueror/i.test(F.navigator.userAgent)},hasDomain:function(){if(!F.document)return!0;try{return!!F.document.domain}catch{return!1}}},Zn={},Kn=h,mr=G,Yn=Ce,Ke=Re,ei=ue,ti=fe;function V(t){if(!ei.enabled&&!Ke.enabled)throw new Error("Transport created when disabled");mr.call(this,t,"/xhr_streaming",Yn,Ke)}Kn(V,mr);V.enabled=function(t){return t.nullOrigin||ti.isOpera()?!1:Ke.enabled};V.transportName="xhr-streaming";V.roundTrips=2;V.needBody=!!Zn.document;var ri=V,vr={},gr=g.EventEmitter,ni=h,br=U,ii=fe,si=$,oi=function(){};function X(t,e,r){var n=this;gr.call(this),setTimeout(function(){n._start(t,e,r)},0)}ni(X,gr);X.prototype._start=function(t,e,r){var n=this,i=new vr.XDomainRequest;e=si.addQuery(e,"t="+ +new Date),i.onerror=function(){n._error()},i.ontimeout=function(){n._error()},i.onprogress=function(){oi("progress",i.responseText),n.emit("chunk",200,i.responseText)},i.onload=function(){n.emit("finish",200,i.responseText),n._cleanup(!1)},this.xdr=i,this.unloadRef=br.unloadAdd(function(){n._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch{this._error()}};X.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};X.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),br.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};X.prototype.close=function(){this._cleanup(!0)};X.enabled=!!(vr.XDomainRequest&&ii.hasDomain());var ht=X,ai=h,yr=G,li=Ce,Ye=ht;function he(t){if(!Ye.enabled)throw new Error("Transport created when disabled");yr.call(this,t,"/xhr_streaming",li,Ye)}ai(he,yr);he.enabled=function(t){return t.cookie_needed||t.nullOrigin?!1:Ye.enabled&&t.sameScheme};he.transportName="xdr-streaming";he.roundTrips=2;var wr=he,ci={},xr=ci.EventSource,ui=h,_r=g.EventEmitter,fi=xr,It=function(){};function de(t){_r.call(this);var e=this,r=this.es=new fi(t);r.onmessage=function(n){It("message",n.data),e.emit("message",decodeURI(n.data))},r.onerror=function(n){It("error",r.readyState);var i=r.readyState!==2?"network":"permanent";e._cleanup(),e._close(i)}}ui(de,_r);de.prototype.abort=function(){this._cleanup(),this._close("user")};de.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)};de.prototype._close=function(t){var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)};var hi=de,di=h,Er=G,pi=hi,mi=Re,vi=xr;function z(t){if(!z.enabled())throw new Error("Transport created when disabled");Er.call(this,t,"/eventsource",pi,mi)}di(z,Er);z.enabled=function(){return!!vi};z.transportName="eventsource";z.roundTrips=2;var Tt=z,qe,Ct;function Sr(){return Ct||(Ct=1,qe="1.6.1"),qe}var $r={exports:{}};(function(t){var e={},r=U,n=fe;t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in e||(e[t.exports.WPrefix]={})},postMessage:function(i,s){e.parent!==e&&e.parent.postMessage(JSON.stringify({windowId:t.exports.currentWindowId,type:i,data:s||""}),"*")},createIframe:function(i,s){var o=e.document.createElement("iframe"),a,c,d=function(){clearTimeout(a);try{o.onload=null}catch{}o.onerror=null},p=function(){o&&(d(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),r.unloadDel(c))},l=function(m){o&&(p(),s(m))},w=function(m,x){setTimeout(function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(m,x)}catch{}},0)};return o.src=i,o.style.display="none",o.style.position="absolute",o.onerror=function(){l("onerror")},o.onload=function(){clearTimeout(a),a=setTimeout(function(){l("onload timeout")},2e3)},e.document.body.appendChild(o),a=setTimeout(function(){l("timeout")},15e3),c=r.unloadAdd(p),{post:w,cleanup:p,loaded:d}},createHtmlfile:function(i,s){var o=["Active"].concat("Object").join("X"),a=new e[o]("htmlfile"),c,d,p,l=function(){clearTimeout(c),p.onerror=null},w=function(){a&&(l(),r.unloadDel(d),p.parentNode.removeChild(p),p=a=null,CollectGarbage())},m=function(k){a&&(w(),s(k))},x=function(k,Q){try{setTimeout(function(){p&&p.contentWindow&&p.contentWindow.postMessage(k,Q)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+e.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[t.exports.WPrefix]=e[t.exports.WPrefix];var b=a.createElement("div");return a.body.appendChild(b),p=a.createElement("iframe"),b.appendChild(p),p.src=i,p.onerror=function(){m("onerror")},c=setTimeout(function(){m("timeout")},15e3),d=r.unloadAdd(w),{post:x,cleanup:w,loaded:l}}},t.exports.iframeEnabled=!1,e.document&&(t.exports.iframeEnabled=(typeof e.postMessage=="function"||typeof e.postMessage=="object")&&!n.isKonqueror())})($r);var pe=$r.exports,gi=h,jr=g.EventEmitter,bi=Sr(),et=$,Nr=pe,Or=U,yi=J,Y=function(){};function R(t,e,r){if(!R.enabled())throw new Error("Transport created when disabled");jr.call(this);var n=this;this.origin=et.getOrigin(r),this.baseUrl=r,this.transUrl=e,this.transport=t,this.windowId=yi.string(8);var i=et.addPath(r,"/iframe.html")+"#"+this.windowId;this.iframeObj=Nr.createIframe(i,function(s){n.emit("close",1006,"Unable to load an iframe ("+s+")"),n.close()}),this.onmessageCallback=this._message.bind(this),Or.attachEvent("message",this.onmessageCallback)}gi(R,jr);R.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){Or.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};R.prototype._message=function(t){if(Y("message",t.data),!et.isOriginEqual(t.origin,this.origin)){Y("not same origin",t.origin,this.origin);return}var e;try{e=JSON.parse(t.data)}catch{Y("bad json",t.data);return}if(e.windowId!==this.windowId){Y("mismatched window id",e.windowId,this.windowId);return}switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([bi,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var r;try{r=JSON.parse(e.data)}catch{Y("bad json",e.data);return}this.emit("close",r[0],r[1]),this.close();break}};R.prototype.postMessage=function(t,e){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)};R.prototype.send=function(t){this.postMessage("m",t)};R.enabled=function(){return Nr.iframeEnabled};R.transportName="iframe";R.roundTrips=2;var Ir=R,dt={isObject:function(t){var e=typeof t;return e==="function"||e==="object"&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,r,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}},wi={},xi=h,we=Ir,_i=dt,De=function(t){function e(r,n){we.call(this,t.transportName,r,n)}return xi(e,we),e.enabled=function(r,n){if(!wi.document)return!1;var i=_i.extend({},n);return i.sameOrigin=!0,t.enabled(i)&&we.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=we.roundTrips+t.roundTrips-1,e.facadeTransport=t,e},je={},Ei=h,q=pe,Si=$,Tr=g.EventEmitter,$i=J,ji=function(){};function j(t){Tr.call(this);var e=this;q.polluteGlobalNamespace(),this.id="a"+$i.string(6),t=Si.addQuery(t,"c="+decodeURIComponent(q.WPrefix+"."+this.id)),ji("using htmlfile",j.htmlfileEnabled);var r=j.htmlfileEnabled?q.createHtmlfile:q.createIframe;je[q.WPrefix][this.id]={start:function(){e.iframeObj.loaded()},message:function(n){e.emit("message",n)},stop:function(){e._cleanup(),e._close("network")}},this.iframeObj=r(t,function(){e._cleanup(),e._close("permanent")})}Ei(j,Tr);j.prototype.abort=function(){this._cleanup(),this._close("user")};j.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete je[q.WPrefix][this.id]};j.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()};j.htmlfileEnabled=!1;var Rt=["Active"].concat("Object").join("X");if(Rt in je)try{j.htmlfileEnabled=!!new je[Rt]("htmlfile")}catch{}j.enabled=j.htmlfileEnabled||q.iframeEnabled;var Ni=j,Oi=h,tt=Ni,Ii=ue,Cr=G;function me(t){if(!tt.enabled)throw new Error("Transport created when disabled");Cr.call(this,t,"/htmlfile",tt,Ii)}Oi(me,Cr);me.enabled=function(t){return tt.enabled&&t.sameOrigin};me.transportName="htmlfile";me.roundTrips=2;var kt=me,Ti=h,Rr=G,Ci=Ce,rt=Re,kr=ue;function ve(t){if(!kr.enabled&&!rt.enabled)throw new Error("Transport created when disabled");Rr.call(this,t,"/xhr",Ci,rt)}Ti(ve,Rr);ve.enabled=function(t){return t.nullOrigin?!1:kr.enabled&&t.sameOrigin?!0:rt.enabled};ve.transportName="xhr-polling";ve.roundTrips=2;var At=ve,Ri=h,Ar=G,ki=wr,Ai=Ce,Lt=ht;function ge(t){if(!Lt.enabled)throw new Error("Transport created when disabled");Ar.call(this,t,"/xhr",Ai,Lt)}Ri(ge,Ar);ge.enabled=ki.enabled;ge.transportName="xdr-polling";ge.roundTrips=2;var Li=ge,D={},re=pe,Lr=J,Pi=fe,Ui=$,qi=h,Pr=g.EventEmitter,Di=function(){};function S(t){var e=this;Pr.call(this),re.polluteGlobalNamespace(),this.id="a"+Lr.string(6);var r=Ui.addQuery(t,"c="+encodeURIComponent(re.WPrefix+"."+this.id));D[re.WPrefix][this.id]=this._callback.bind(this),this._createScript(r),this.timeoutId=setTimeout(function(){e._abort(new Error("JSONP script loaded abnormally (timeout)"))},S.timeout)}qi(S,Pr);S.prototype.abort=function(){if(D[re.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}};S.timeout=35e3;S.scriptErrorTimeout=1e3;S.prototype._callback=function(t){this._cleanup(),!this.aborting&&(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())};S.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()};S.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete D[re.WPrefix][this.id]};S.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},S.scriptErrorTimeout))};S.prototype._createScript=function(t){var e=this,r=this.script=D.document.createElement("script"),n;if(r.id="a"+Lr.string(8),r.src=t,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){e._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(Di("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){e.loadedOkay=!0;try{r.onclick()}catch{}}r&&e._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof r.async>"u"&&D.document.attachEvent)if(Pi.isOpera())n=this.script2=D.document.createElement("script"),n.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=n.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch{}r.async=!0}typeof r.async<"u"&&(r.async=!0);var i=D.document.getElementsByTagName("head")[0];i.insertBefore(r,i.firstChild),n&&i.insertBefore(n,i.firstChild)};var Mi=S,ne={},Xi=J,Pt=$,Bi=function(){},_,ie;function Wi(t){try{return ne.document.createElement('<iframe name="'+t+'">')}catch{var e=ne.document.createElement("iframe");return e.name=t,e}}function Hi(){_=ne.document.createElement("form"),_.style.display="none",_.style.position="absolute",_.method="POST",_.enctype="application/x-www-form-urlencoded",_.acceptCharset="UTF-8",ie=ne.document.createElement("textarea"),ie.name="d",_.appendChild(ie),ne.document.body.appendChild(_)}var Fi=function(t,e,r){_||Hi();var n="a"+Xi.string(8);_.target=n,_.action=Pt.addQuery(Pt.addPath(t,"/jsonp_send"),"i="+n);var i=Wi(n);i.id=n,i.style.display="none",_.appendChild(i);try{ie.value=e}catch{}_.submit();var s=function(o){i.onerror&&(i.onreadystatechange=i.onerror=i.onload=null,setTimeout(function(){i.parentNode.removeChild(i),i=null},500),ie.value="",r(o))};return i.onerror=function(){s()},i.onload=function(){s()},i.onreadystatechange=function(o){Bi("onreadystatechange",n,i.readyState),i.readyState==="complete"&&s()},function(){s(new Error("Aborted"))}},Ji={},Gi=h,Ur=ar,Vi=Mi,zi=Fi;function B(t){if(!B.enabled())throw new Error("Transport created when disabled");Ur.call(this,t,"/jsonp",zi,Vi)}Gi(B,Ur);B.enabled=function(){return!!Ji.document};B.transportName="jsonp-polling";B.roundTrips=1;B.needBody=!0;var Qi=B,Zi=[kn,ri,wr,Tt,De(Tt),kt,De(kt),At,Li,De(At),Qi],ae=Array.prototype,pt=Object.prototype,Ki=Function.prototype,le=String.prototype,Me=ae.slice,mt=pt.toString,qr=function(t){return pt.toString.call(t)==="[object Function]"},Yi=function(e){return mt.call(e)==="[object Array]"},Dr=function(e){return mt.call(e)==="[object String]"},es=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),nt;es?nt=function(t,e,r,n){!n&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:r})}:nt=function(t,e,r,n){!n&&e in t||(t[e]=r)};var be=function(t,e,r){for(var n in e)pt.hasOwnProperty.call(e,n)&&nt(t,n,e[n],r)},Mr=function(t){if(t==null)throw new TypeError("can't convert "+t+" to object");return Object(t)};function ts(t){var e=+t;return e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function rs(t){return t>>>0}function Xe(){}be(Ki,{bind:function(e){var r=this;if(!qr(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n=Me.call(arguments,1),i=function(){if(this instanceof c){var d=r.apply(this,n.concat(Me.call(arguments)));return Object(d)===d?d:this}else return r.apply(e,n.concat(Me.call(arguments)))},s=Math.max(0,r.length-n.length),o=[],a=0;a<s;a++)o.push("$"+a);var c=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(i);return r.prototype&&(Xe.prototype=r.prototype,c.prototype=new Xe,Xe.prototype=null),c}});be(Array,{isArray:Yi});var Ut=Object("a"),Xr=Ut[0]!=="a"||!(0 in Ut),ns=function(e){var r=!0,n=!0;return e&&(e.call("foo",function(i,s,o){typeof o!="object"&&(r=!1)}),e.call([1],function(){n=typeof this=="string"},"x")),!!e&&r&&n};be(ae,{forEach:function(e){var r=Mr(this),n=Xr&&Dr(this)?this.split(""):r,i=arguments[1],s=-1,o=n.length>>>0;if(!qr(e))throw new TypeError;for(;++s<o;)s in n&&e.call(i,n[s],s,r)}},!ns(ae.forEach));var is=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;be(ae,{indexOf:function(e){var r=Xr&&Dr(this)?this.split(""):Mr(this),n=r.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=ts(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in r&&r[i]===e)return i;return-1}},is);var qt=le.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t=/()??/.exec("")[1]===void 0;le.split=function(e,r){var n=this;if(e===void 0&&r===0)return[];if(mt.call(e)!=="[object RegExp]")return qt.call(this,e,r);var i=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),o=0,a,c,d,p;for(e=new RegExp(e.source,s+"g"),n+="",t||(a=new RegExp("^"+e.source+"$(?!\\s)",s)),r=r===void 0?-1>>>0:rs(r);(c=e.exec(n))&&(d=c.index+c[0].length,!(d>o&&(i.push(n.slice(o,c.index)),!t&&c.length>1&&c[0].replace(a,function(){for(var l=1;l<arguments.length-2;l++)arguments[l]===void 0&&(c[l]=void 0)}),c.length>1&&c.index<n.length&&ae.push.apply(i,c.slice(1)),p=c[0].length,o=d,i.length>=r)));)e.lastIndex===c.index&&e.lastIndex++;return o===n.length?(p||!e.test(""))&&i.push(""):i.push(n.slice(o)),i.length>r?i.slice(0,r):i}}():"0".split(void 0,0).length&&(le.split=function(e,r){return e===void 0&&r===0?[]:qt.call(this,e,r)});var ss=le.substr,os="".substr&&"0b".substr(-1)!=="b";be(le,{substr:function(e,r){return ss.call(this,e<0&&(e=this.length+e)<0?0:e,r)}},os);var xe=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Be,as=function(t){var e,r={},n=[];for(e=0;e<65536;e++)n.push(String.fromCharCode(e));return t.lastIndex=0,n.join("").replace(t,function(i){return r[i]="\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,r},ls={quote:function(t){var e=JSON.stringify(t);return xe.lastIndex=0,xe.test(e)?(Be||(Be=as(xe)),e.replace(xe,function(r){return Be[r]})):e}},We=function(){},cs=function(t){return{filterToEnabled:function(e,r){var n={main:[],facade:[]};return e?typeof e=="string"&&(e=[e]):e=[],t.forEach(function(i){if(i&&!(i.transportName==="websocket"&&r.websocket===!1)){if(e.length&&e.indexOf(i.transportName)===-1){We("not in whitelist",i.transportName);return}i.enabled(r)?(We("enabled",i.transportName),n.main.push(i),i.facadeTransport&&n.facade.push(i.facadeTransport)):We("disabled",i.transportName)}}),n}}},ee={},it={};["log","debug","warn"].forEach(function(t){var e;try{e=ee.console&&ee.console[t]&&ee.console[t].apply}catch{}it[t]=e?function(){return ee.console[t].apply(ee.console,arguments)}:t==="log"?function(){}:it.log});var us=it;function W(t){this.type=t}W.prototype.initEvent=function(t,e,r){return this.type=t,this.bubbles=e,this.cancelable=r,this.timeStamp=+new Date,this};W.prototype.stopPropagation=function(){};W.prototype.preventDefault=function(){};W.CAPTURING_PHASE=1;W.AT_TARGET=2;W.BUBBLING_PHASE=3;var vt=W,fs={},Br=fs.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""},hs=h,Wr=vt;function Hr(){Wr.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}hs(Hr,Wr);var ds=Hr,ps=h,Fr=vt;function Jr(t){Fr.call(this),this.initEvent("message",!1,!1),this.data=t}ps(Jr,Fr);var ms=Jr,Gr=g.EventEmitter,vs=h;function ye(){var t=this;Gr.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},ye.timeout)}vs(ye,Gr);ye.prototype.close=function(){clearTimeout(this.to)};ye.timeout=2e3;var gs=ye,Vr=g.EventEmitter,bs=h,ys=dt;function gt(t,e){Vr.call(this);var r=this,n=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(i,s){var o,a;if(i===200){if(a=+new Date-n,s)try{o=JSON.parse(s)}catch{}ys.isObject(o)||(o={})}r.emit("finish",o,a),r.removeAllListeners()})}bs(gt,Vr);gt.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var zr=gt,He,Dt;function Qr(){if(Dt)return He;Dt=1;var t=h,e=g.EventEmitter,r=ue,n=zr;function i(s){var o=this;e.call(this),this.ir=new n(s,r),this.ir.once("finish",function(a,c){o.ir=null,o.emit("message",JSON.stringify([a,c]))})}return t(i,e),i.transportName="iframe-info-receiver",i.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},He=i,He}var ws={},Zr=g.EventEmitter,xs=h,_s=U,Kr=Ir,Es=Qr();function ke(t,e){var r=this;Zr.call(this);var n=function(){var i=r.ifr=new Kr(Es.transportName,e,t);i.once("message",function(s){if(s){var o;try{o=JSON.parse(s)}catch{r.emit("finish"),r.close();return}var a=o[0],c=o[1];r.emit("finish",a,c)}r.close()}),i.once("close",function(){r.emit("finish"),r.close()})};ws.document.body?n():_s.attachEvent("load",n)}xs(ke,Zr);ke.enabled=function(){return Kr.enabled()};ke.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var Ss=ke,Yr=g.EventEmitter,$s=h,js=$,Mt=ht,Xt=Re,Ns=ue,Os=gs,Bt=Ss,_e=zr;function A(t,e){var r=this;Yr.call(this),setTimeout(function(){r.doXhr(t,e)},0)}$s(A,Yr);A._getReceiver=function(t,e,r){return r.sameOrigin?new _e(e,Ns):Xt.enabled?new _e(e,Xt):Mt.enabled&&r.sameScheme?new _e(e,Mt):Bt.enabled()?new Bt(t,e):new _e(e,Os)};A.prototype.doXhr=function(t,e){var r=this,n=js.addPath(t,"/info");this.xo=A._getReceiver(t,n,e),this.timeoutRef=setTimeout(function(){r._cleanup(!1),r.emit("finish")},A.timeout),this.xo.once("finish",function(i,s){r._cleanup(!0),r.emit("finish",i,s)})};A.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null};A.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};A.timeout=8e3;var Is=A,Fe,Wt;function Ts(){if(Wt)return Fe;Wt=1;var t=pe;function e(r){this._transport=r,r.on("message",this._transportMessage.bind(this)),r.on("close",this._transportClose.bind(this))}return e.prototype._transportClose=function(r,n){t.postMessage("c",JSON.stringify([r,n]))},e.prototype._transportMessage=function(r){t.postMessage("t",r)},e.prototype._send=function(r){this._transport.send(r)},e.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Fe=e,Fe}var Je,Ht;function Cs(){if(Ht)return Je;Ht=1;var t=$,e=U,r=Ts(),n=Qr(),i=pe,s=Br,o=function(){};return Je=function(a,c){var d={};c.forEach(function(l){l.facadeTransport&&(d[l.facadeTransport.transportName]=l.facadeTransport)}),d[n.transportName]=n;var p;a.bootstrap_iframe=function(){var l;i.currentWindowId=s.hash.slice(1);var w=function(m){if(m.source===parent&&(typeof p>"u"&&(p=m.origin),m.origin===p)){var x;try{x=JSON.parse(m.data)}catch{o("bad json",m.data);return}if(x.windowId===i.currentWindowId)switch(x.type){case"s":var b;try{b=JSON.parse(x.data)}catch{o("bad json",x.data);break}var k=b[0],Q=b[1],H=b[2],Z=b[3];if(k!==a.version)throw new Error('Incompatible SockJS! Main site uses: "'+k+'", the iframe: "'+a.version+'".');if(!t.isOriginEqual(H,s.href)||!t.isOriginEqual(Z,s.href))throw new Error("Can't connect to different domain from within an iframe. ("+s.href+", "+H+", "+Z+")");l=new r(new d[Q](H,Z));break;case"m":l._send(x.data);break;case"c":l&&l._close(),l=null;break}}};e.attachEvent("message",w),i.postMessage("s")}},Je}var Ee={},Rs=er,ks=h,Ft=J,As=ls,te=$,Ls=U,Ps=cs,Us=dt,qs=fe,Ds=us,bt=vt,en=tr,Se=Br,Ms=ds,Jt=ms,Xs=Is,I=function(){},tn;function f(t,e,r){if(!(this instanceof f))return new f(t,e,r);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");en.call(this),this.readyState=f.CONNECTING,this.extensions="",this.protocol="",r=r||{},r.protocols_whitelist&&Ds.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=r.transports,this._transportOptions=r.transportOptions||{},this._timeout=r.timeout||0;var n=r.sessionId||8;if(typeof n=="function")this._generateSessionId=n;else if(typeof n=="number")this._generateSessionId=function(){return Ft.string(n)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=r.server||Ft.numberString(1e3);var i=new Rs(t);if(!i.host||!i.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(i.hash)throw new SyntaxError("The URL must not contain a fragment");if(i.protocol!=="http:"&&i.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+i.protocol+"' is not allowed.");var s=i.protocol==="https:";if(Se.protocol==="https:"&&!s&&!te.isLoopbackAddr(i.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var o=e.sort();o.forEach(function(c,d){if(!c)throw new SyntaxError("The protocols entry '"+c+"' is invalid.");if(d<o.length-1&&c===o[d+1])throw new SyntaxError("The protocols entry '"+c+"' is duplicated.")});var a=te.getOrigin(Se.href);this._origin=a?a.toLowerCase():null,i.set("pathname",i.pathname.replace(/\/+$/,"")),this.url=i.href,I("using url",this.url),this._urlInfo={nullOrigin:!qs.hasDomain(),sameOrigin:te.isOriginEqual(this.url,Se.href),sameScheme:te.isSchemeEqual(this.url,Se.href)},this._ir=new Xs(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}ks(f,en);function rn(t){return t===1e3||t>=3e3&&t<=4999}f.prototype.close=function(t,e){if(t&&!rn(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===f.CLOSING||this.readyState===f.CLOSED)){var r=!0;this._close(t||1e3,e||"Normal closure",r)}};f.prototype.send=function(t){if(typeof t!="string"&&(t=""+t),this.readyState===f.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===f.OPEN&&this._transport.send(As.quote(t))};f.version=Sr();f.CONNECTING=0;f.OPEN=1;f.CLOSING=2;f.CLOSED=3;f.prototype._receiveInfo=function(t,e){if(this._ir=null,!t){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=Us.extend(t,this._urlInfo);var r=tn.filterToEnabled(this._transportsWhitelist,t);this._transports=r.main,I(this._transports.length+" enabled transports"),this._connect()};f.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(I("attempt",t.transportName),t.needBody&&(!Ee.document.body||typeof Ee.document.readyState<"u"&&Ee.document.readyState!=="complete"&&Ee.document.readyState!=="interactive")){this._transports.unshift(t),Ls.attachEvent("load",this._connect.bind(this));return}var e=Math.max(this._timeout,this._rto*t.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e);var r=te.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),n=this._transportOptions[t.transportName],i=new t(r,this._transUrl,n);i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=t.transportName,this._transport=i;return}this._close(2e3,"All transports failed",!1)};f.prototype._transportTimeout=function(){this.readyState===f.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};f.prototype._transportMessage=function(t){var e=this,r=t.slice(0,1),n=t.slice(1),i;switch(r){case"o":this._open();return;case"h":this.dispatchEvent(new bt("heartbeat")),I("heartbeat",this.transport);return}if(n)try{i=JSON.parse(n)}catch{}if(!(typeof i>"u"))switch(r){case"a":Array.isArray(i)&&i.forEach(function(s){I("message",e.transport),e.dispatchEvent(new Jt(s))});break;case"m":I("message",this.transport),this.dispatchEvent(new Jt(i));break;case"c":Array.isArray(i)&&i.length===2&&this._close(i[0],i[1],!0);break}};f.prototype._transportClose=function(t,e){if(I("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!rn(t)&&t!==2e3&&this.readyState===f.CONNECTING){this._connect();return}this._close(t,e)};f.prototype._open=function(){I("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===f.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=f.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new bt("open")),I("connected",this.transport)):this._close(1006,"Server lost session")};f.prototype._close=function(t,e,r){I("_close",this.transport,t,e,r,this.readyState);var n=!1;if(this._ir&&(n=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===f.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=f.CLOSING,setTimeout((function(){this.readyState=f.CLOSED,n&&this.dispatchEvent(new bt("error"));var i=new Ms;i.wasClean=r||!1,i.code=t||1e3,i.reason=e,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};f.prototype.countRTO=function(t){return t>100?4*t:300+t};var Bs=function(t){return tn=Ps(t),Cs()(f,t),f},Gt={},Ws=Zi;Bs(Ws);"_sockjs_onload"in Gt&&setTimeout(Gt._sockjs_onload,1);function zs(){const t={userName:"",password:""},[e,r]=N.useState(t),[n,i]=N.useState({}),[s,o]=N.useState(!1),[a,c]=N.useState(!1),[d,p]=N.useState(""),[l,w]=N.useState(!1);N.useState([]),N.useState("");const m=N.useRef(null),x=an(),b=ln(),k=E=>{const{name:v,value:y}=E.target;r({...e,[v]:y})},Q=E=>{E.preventDefault();const v=Z(e);i(v),o(!0)},H=E=>{const v=se.over(function(){return new WebSocket("ws://13.233.228.245/ws")}),y=se.over(v);y.connect({},K=>{console.log("Connected to WebSocket:",K),y.subscribe(`/user/${E}/queue/messages`,Le=>{const nn=JSON.parse(Le.body);console.log(nn)})},K=>{console.error("WebSocket Connection Error:",K)}),m.current=y};N.useEffect(()=>((async()=>{if(Object.keys(n).length===0&&s){c(!0);try{const v=await fetch("http://udise.pytosoft.com/v1/login/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!v.ok){const Le=await v.json();throw new Error(`HTTP error! ${v.status}: ${Le.message}`)}const y=await v.json();b(cn(y.id)),b(un(y.authtoken));const K=y.role==="User"?"USER":y.role.toUpperCase();b(fn(K)),b(hn(y.name)),H(y.id),x("/Dashboard")}catch(v){console.error("Login error:",v),p("Login failed. Please check your credentials.")}finally{c(!1),o(!1)}}})(),()=>{m.current&&m.current.disconnect()}),[n,s,e,x,b]);const Z=E=>{const v={},y=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i;return E.userName?y.test(E.userName)||(v.userName="Invalid username"):v.userName="Username is required",E.password||(v.password="Password is required"),v},Ae=()=>{w(E=>!E)};return u.jsx("div",{className:"container-fluid container",children:u.jsx("div",{className:"auth-page-wrapper auth-bg-cover py-5 d-flex",children:u.jsx("div",{className:"auth-page-content overflow-hidden pt-sm-5",children:u.jsx("div",{className:"container",children:u.jsx("div",{className:"row d-flex",children:u.jsx("div",{className:"col-sm-12",children:u.jsx("div",{className:"card overflow-hidden",children:u.jsxs("div",{className:"rows row g-3",children:[u.jsx("div",{className:"col-sm-6",children:u.jsxs("div",{className:"p-sm-5 p-4 auth-one-bg h-100",children:[u.jsx("div",{className:"bg-overlay"}),u.jsxs("div",{className:"position-relative h-100 d-flex flex-column",children:[u.jsx("div",{className:"mb-4 text-center",children:u.jsx("img",{src:dn,alt:"Logo",height:"100"})}),u.jsxs("div",{className:"mt-auto",children:[u.jsx("div",{className:"mb-3",children:u.jsx("i",{className:"ri-double-quotes-l display-4 text-success"})}),u.jsxs("div",{id:"qoutescarouselIndicators",className:"carousel slide","data-bs-ride":"carousel",children:[u.jsxs("div",{className:"carousel-indicators",children:[u.jsx("button",{type:"button","data-bs-target":"#qoutescarouselIndicators","data-bs-slide-to":"0",className:"active","aria-current":"true","aria-label":"Slide 1"}),u.jsx("button",{type:"button","data-bs-target":"#qoutescarouselIndicators","data-bs-slide-to":"1","aria-label":"Slide 2"}),u.jsx("button",{type:"button","data-bs-target":"#qoutescarouselIndicators","data-bs-slide-to":"2","aria-label":"Slide 3"})]}),u.jsxs("div",{className:"carousel-inner text-center text-white pb-5",children:[u.jsx("div",{className:"carousel-item active",children:u.jsx("p",{className:"fs-5 fst-italic",children:'"Empowering Tomorrow, Today: Innovate, Integrate, Illuminate with Pytosoft IT Solution Pvt. Ltd"'})}),u.jsx("div",{className:"carousel-item",children:u.jsx("p",{className:"fs-5 fst-italic",children:'"Lead Flow Analysis Data Analysis Mastery"'})}),u.jsx("div",{className:"carousel-item",children:u.jsx("p",{className:"fs-5 fst-italic",children:'"Lead Flow Analysis AI Machine Learning Mastery"'})})]})]})]})]})]})}),u.jsx("div",{className:"col-sm-6",children:u.jsxs("div",{className:"p-sm-5 p-4",children:[u.jsx("h4",{className:"text-primary",children:"Hello! Let's get started"}),u.jsx("p",{className:"text-muted",children:"Sign in to continue."}),u.jsxs("form",{onSubmit:Q,children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{htmlFor:"userName",className:"form-label",children:"Username"}),u.jsx("input",{type:"email",name:"userName",className:`form-control ${n.userName?"is-invalid":""}`,id:"userName",placeholder:"Enter username",value:e.userName,onChange:k}),n.userName&&u.jsx("div",{className:"invalid-feedback",children:n.userName})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"form-label",htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"position-relative auth-pass-inputgroup mb-3",children:[u.jsx("input",{type:l?"text":"password",name:"password",className:`form-control pe-5 password-input ${n.password?"is-invalid":""}`,placeholder:"Enter password",id:"password",value:e.password,onChange:k}),u.jsx("button",{type:"button",className:"btn btn-link position-absolute end-0 top-0 text-muted",onClick:Ae,children:u.jsx("i",{className:`ri-${l?"eye-off":"eye"}-fill`})}),n.password&&u.jsx("div",{className:"invalid-feedback",children:n.password})]})]}),u.jsx("button",{className:"btn btn-success w-100",type:"submit",disabled:a,children:a?"Signing In...":"Sign In"}),d&&u.jsx("div",{className:"alert alert-danger mt-3",children:d})]})]})})]})})})})})})})})}export{zs as default};
